<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="author" content="Geshan Manandhar"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="In addition to assertEquals, you can use these ultra-handy PHPUnit assertions to make your life easier. Find out how."><meta name="keywords" content="phpunit assertions, phpunit assertion, phpunit testing, php testing"><meta name="p:domain_verify" content="e654c68562abebfa25c291f59d7d00e8"><meta property="og:type" content="website"><meta property="og:url" content="https://geshan.com.np/blog/2021/01/phpunit-assertions/"><meta property="og:title" content="5 useful PHPUnit Assertions you should start using today"><meta property="og:description" content="In addition to assertEquals, you can use these ultra-handy PHPUnit assertions to make your life easier. Find out how."><meta property="og:site_name" content="Geshan&#39;s Blog"><meta property="og:image" content="https://geshan.com.np/images/phpunit-assertions/01phpunit-assertions.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:widgets:new-embed-design" content="on"><meta name="twitter:site" content="@geshan"><meta name="twitter:creator" content="@geshan"><meta name="twitter:title" content="5 useful PHPUnit Assertions you should start using today"><meta name="twitter:description" content="In addition to assertEquals, you can use these ultra-handy PHPUnit assertions to make your life easier. Find out how."><meta name="twitter:image:src" content="https://geshan.com.np/images/phpunit-assertions/01phpunit-assertions.jpg"><link rel="canonical" href="https://geshan.com.np/blog/2021/01/phpunit-assertions/"><meta property="fb:pages" content="30717799226"><meta property="fb:app_id" content="106030259434380"><meta name="monetization" content="$ilp.uphold.com/aKHWpqhphm9f"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png"><link href="/atom.xml" rel="alternate" title="Geshan&#39;s Blog" type="application/atom+xml"><title>5 useful PHPUnit Assertions you should start using now</title><link rel="preconnect" href="/" crossorigin><link rel="preload" href="/css/fonts.css" as="style"><link rel="preload" href="/fonts/source-sans-4/source-serif-4-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/source-sans-4/source-serif-4-latin-500-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/source-sans-pro/source-sans-pro-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/fonts.css"><link rel="stylesheet" href="/css/tw-006.css"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Geshan&#39;s Blog"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-P3NXCVQEPE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-P3NXCVQEPE');</script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWT2D9T');</script><script src="https://cdn.jsdelivr.net/npm/@statsig/js-client@3/build/statsig-js-client+session-replay+web-analytics.min.js?apikey=client-rYO7rX8WSUyyLg9pKJwymLxM71tCE0CKgxgtUj4akzK"></script><link rel="manifest" href="/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="application-name" content="Geshan.com.np"><meta name="apple-mobile-web-app-title" content="Geshan.com.np"><meta name="msapplication-starturl" content="/index.html"><meta name="theme-color" content="#6947E7"><script>if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/sw.js").then(function(registration) {
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
        console.log('ServiceWorker registration failed: ', err);
    });
  }</script></head><body class="overflow-x-hidden font-ui flex flex-col min-h-screen"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWT2D9T" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><header role="banner"><div><nav class="bg-white" role="navigation"><div class="w-full md:max-w-6xl mx-auto py-4 px-4"><div class="flex items-center justify-between h-16"><div class="flex-shrink-0"><a href="/" class="flex items-center"><img class="h-12 w-12" src="/images/theme/new_logo.svg" alt="Geshan G"></a></div><div class="flex items-center gap-12"><div class="hidden sm:flex items-center gap-12"><a href="/posts/1/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">Posts </a><a href="/about/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">About Me </a><a href="https://newsletter.geshan.com.np/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">Newsletter</a></div><form class="search flex items-center" action="https://www.google.com/search" method="GET"><input type="hidden" name="sitesearch" value="geshan.com.np"><div class="relative"><input class="bg-gray-100 border border-neutralGray rounded-lg py-2 pl-10 pr-4 font-body text-sm focus:outline-none focus:ring-2 focus:ring-avocado focus:border-transparent w-40" type="text" name="q" placeholder="Search" label="search"> <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutralGray" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg></div></form><button type="button" class="sm:hidden inline-flex items-center justify-center p-2 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-inset focus:ring-avocado" onclick="mobileView()" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span> <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button></div></div></div><div class="mobile-menu fixed inset-0 z-40 hidden sm:hidden bg-black bg-opacity-40" role="dialog" aria-modal="true"><div class="absolute inset-0" onclick="mobileView()" aria-hidden="true"></div><div class="mobile-menu-panel relative ml-auto flex h-full w-10/12 max-w-sm flex-col justify-start bg-white shadow-xl"><div class="flex items-center justify-between px-4 py-4 border-b border-gray-200"><div class="flex items-center gap-3"><img class="h-8 w-8" src="/images/theme/new_logo.svg" alt="Geshan G"> <span class="text-lg font-semibold text-textColor font-body">Geshan's Blog</span></div><button type="button" class="inline-flex items-center justify-center rounded-full p-2 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-avocado" onclick="mobileView()" aria-label="Close main menu"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button></div><nav class="overflow-y-auto px-4 py-6 space-y-2"><a href="/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Home </a><a href="/posts/1/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Posts </a><a href="/about/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">About Me </a><a href="https://newsletter.geshan.com.np/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Newsletter</a></nav><div class="px 4 py-4 border-t border-gray-200"><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="rounded-lg bg-darkAvocado px-4 py-2 text-base font-regular font-body text-white hover:bg-avocado hover:text-black transition-colors w-2/3 mx-auto ml-4">Connect on LinkedIn</a></div></div></div></nav></div></header><main id="wrap" role="main" class="flex-grow md:px-0"><div id="content"><div class="row"><div><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Geshan&#39;s Blog",
    "alternativeHeadline": "5 useful PHPUnit Assertions you should start using today",
    "image": "https://geshan.com.np/images/phpunit-assertions/01phpunit-assertions.jpg",
    "editor": "Geshan Manandhar",
    "genre": "Web Development",
    "keywords": "phpunit assertions, phpunit assertion, phpunit testing, php testing",
    "url": "https://geshan.com.np/blog/2021/01/phpunit-assertions/",
    "datePublished": "2021-01-03",
    "dateCreated": "2021-01-03",
    "dateModified": "2021-01-03",
    "description": "In addition to assertEquals, you can use these ultra-handy PHPUnit assertions to make your life easier. Find out how.",
    "articleBody": "PHPUnit has been blowing away its competition for more than 5 years now. With the use of the right PHPUnit assertions, you can get the most benefit out of PHPUnit. In this post, we will look into some popular and very useful PHPUnit assertions you should be using day to day in your PHPUnit tests. Let’s get cracking!Table of contents #PHPUnit Assertions to know aboutAnalyzing PHPUnit Assertions usage in a small, medium, and large projectSmall Project with PHPUnit AssertionsMedium project for PHPUnit Assertions countBig project for counting PHPUnit AssertionsAnatomy of PHPUnit assertionsSome PHPUnit assertions you must start using todayassertJsonStringEqualsJsonStringassertMatchesRegularExpression or assertRegExpassertStringContainsStringassetEqualsWithDeltaassertArrayHasKeyConclusionPHPUnit Assertions to know about #Currently, PHPUnit is at version 9.5. As per the latest docs there are 60 assert methods you can use in your PHPUnit tests.These PHPUnit assertions range from checking if array has a key to the ever-popular assert equals to the not so widely used XML string comparing PHPUnit assertion.Analyzing  PHPUnit Assertions usage in a small, medium, and large project #To know which PHPUnit assertions are used most in the projects I have worked with in the past years I ran the following command:grep -rin &quot;&gt;assert&quot; . | awk &#39;{print $2}&#39; | awk -F&quot;[&gt;(]&quot; &#39;{print $2}&#39; | sort | uniq -c | sort -nrThe above command should be run in your  some code You can view all the 5 PHPUnit assertions’ examples in this gist.Conclusion #You can find a list of PHPUnit assertions in this list too.Before wiring up 2 or 3 PHPUnit assertions please do check on the docs if there is any existing assertion that suits your use case.As per need, you can also write your custom assertion. Happy PHPUnit testing!",
    "author": { "@type": "Person", "name": "Geshan Manandhar" },
    "publisher": {
      "@type": "Organization",
      "name": "Geshan Manandhar",
      "logo": { "@type": "ImageObject", "url": "https://geshan.com.np/images/favicons/favicon-32x32.png" }
    },
    "mainEntityOfPage": { "@type": "WebPage", "@id": "https://geshan.com.np/blog/2021/01/phpunit-assertions/" }
  }</script><div class="progress-bar"></div><div class="max-w-6xl py-3 mx-auto grid-cols-12 grid gap-15 px-4 md:px-0 mb-20"><div class="col-span-12"><article class="md:w-full mx-auto"><header class="page-header text-center"><h1 class="font-semibold font-heading text-gray text-center mb-6 tracking-[-0.01em] leading-[105%] md:leading-[105%]">5 useful PHPUnit Assertions you should start using today</h1><div class="flex items-center justify-between gap-3 md:gap-4 flex-wrap md:flex-nowrap py-2 border-y border-lightbg mt-4"><div class="flex items-center justify-start md:gap-4 gap-2 flex-wrap w-2/3"><div class="flex justify-start items-center gap-3 md:gap-4"><img src="/images/favicons/favicon-32x32-pp.png" alt="Geshan Manandhar" class="w-10 h-10 rounded-full object-cover flex-shrink-0"> <span class="text-gray font-medium font-ui text-md md:text-xl uppercase tracking-wide text-start">Geshan Manandhar</span></div><time datetime="2021-01-03" data-updated="true"><time class="entry-date" datetime="2021-01-03"><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">03-Jan-2021 </span></time></time><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">8 MIN READ</span></div><button type="button" id="share-button" class="flex items-center justify-center w-8 h-8 md:w-9 md:h-9 rounded text-lightGray hover:border-gray-400 hover:bg-gray-50 transition-colors flex-shrink-0" aria-label="Share this post" onclick="toggleShareIcons(); ga('send', 'event', 'share', 'clickShareOnPost');"><img src="/images/shareIcon.svg" alt="Share this post" class="w-6 h-6"></button></div><div id="share-icons-container" class="share-icons print:hidden hidden" aria-label="Share this post"><div class="flex items-center justify-center gap-3"><span class="share-icons"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on LinkedIn" onclick="ga('send', 'event', 'share', 'clickShareOnLinkedIn');"><span id="linkedin-share" class="text-[#0077B5]"><img src="/images/social-icons/linkedin.svg" alt="LinkedIn" class="sharing-common"> </span></a><a href="http://twitter.com/share?text=5 useful PHPUnit Assertions you should start using today - &url=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Twitter" onclick="ga('send', 'event', 'share', 'clickShareOnTwitter');"><span id="twitter-share" class="text-[#1DA1F2]"><img src="/images/social-icons/twitter.svg" alt="Twitter" class="sharing-common"> </span></a><a href="http://www.facebook.com/sharer.php?u=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Facebook" onclick="ga('send', 'event', 'share', 'clickShareOnFacebook');"><span id="facebook-share" class="text-[#1877F2]"><img src="/images/social-icons/facebook.svg" alt="Facebook" class="sharing-common"> </span></a><a href="https://t.me/share/url?url=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Telegram" onclick="ga('send', 'event', 'share', 'clickShareOnTelegram');"><span id="telegram-share" class="text-[#0088cc]"><img src="/images/social-icons/telegram.svg" alt="Telegram" class="sharing-common"> </span></a><a href="https://api.whatsapp.com/send?text=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Whatsapp" onclick="ga('send', 'event', 'share', 'clickShareOnWhatsapp');"><span id="whatsapp-share" class="text-[#25d366]"><img src="/images/social-icons/whatsapp.svg" alt="WhatsApp" class="sharing-common"></span></a></span></div></div></header><div class="entry-content clearfix font-body text-xl text-gray"><p>PHPUnit has been blowing away its competition for more than <a href="https://trends.google.com/trends/explore?date=2016-01-01%202020-12-31&amp;q=phpunit,phpspec,codeception,behat,atoum">5 years</a> now. With the use of the right PHPUnit assertions, you can get the most benefit out of PHPUnit. In this post, we will look into some popular and very useful PHPUnit assertions you should be using day to day in your PHPUnit tests. Let’s get cracking!</p><img class="center" loading="lazy" src="/images/phpunit-assertions/01phpunit-assertions.jpg" title="PHPUnit assertions you should start using now" alt="PHPUnit assertions you should start using now"><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="direct-link" href="#table-of-contents">#</a></h2><ul><li><a href="#phpunit-assertions-to-know-about">PHPUnit Assertions to know about</a></li><li><a href="#analyzing--phpunit-assertions-usage-in-a-small-medium-and-large-project">Analyzing PHPUnit Assertions usage in a small, medium, and large project</a><ul><li><a href="#small-project-with-phpunit-assertions">Small Project with PHPUnit Assertions</a></li><li><a href="#medium-project-for-phpunit-assertions-count">Medium project for PHPUnit Assertions count</a></li><li><a href="#big-project-for-counting-phpunit-assertions">Big project for counting PHPUnit Assertions</a></li></ul></li><li><a href="#anatomy-of-phpunit-assertions">Anatomy of PHPUnit assertions</a></li><li><a href="#some-phpunit-assertions-you-must-start-using-today">Some PHPUnit assertions you must start using today</a><ul><li><a href="#assertjsonstringequalsjsonstring">assertJsonStringEqualsJsonString</a></li><li><a href="#assertmatchesregularexpression-or-assertregexp">assertMatchesRegularExpression or assertRegExp</a></li><li><a href="#assertstringcontainsstring">assertStringContainsString</a></li><li><a href="#assetequalswithdelta">assetEqualsWithDelta</a></li><li><a href="#assertarrayhaskey">assertArrayHasKey</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li></ul><h2 id="phpunit-assertions-to-know-about" tabindex="-1">PHPUnit Assertions to know about <a class="direct-link" href="#phpunit-assertions-to-know-about">#</a></h2><p>Currently, PHPUnit is at version <a href="https://github.com/sebastianbergmann/phpunit/releases/tag/9.5.0">9.5</a>. As per the latest <a href="https://phpunit.readthedocs.io/en/9.5/assertions.html">docs</a> there are 60 assert methods you can use in your PHPUnit tests.</p><blockquote><p>These PHPUnit assertions range from checking if <a href="https://phpunit.readthedocs.io/en/9.5/assertions.html#assertarrayhaskey">array has a key</a> to the ever-popular <a href="https://phpunit.readthedocs.io/en/9.5/assertions.html#assertequals">assert equals</a> to the not so widely used <a href="https://phpunit.readthedocs.io/en/9.5/assertions.html#assertxmlstringequalsxmlstring">XML string comparing</a> PHPUnit assertion.</p></blockquote><h2 id="analyzing-phpunit-assertions-usage-in-a-small%2C-medium%2C-and-large-project" tabindex="-1">Analyzing PHPUnit Assertions usage in a small, medium, and large project <a class="direct-link" href="#analyzing-phpunit-assertions-usage-in-a-small%2C-medium%2C-and-large-project">#</a></h2><p>To know which PHPUnit assertions are used most in the projects I have worked with in the past years I ran the following command:</p><pre class="language-bash"><code class="language-bash"><span class="token function">grep</span> <span class="token parameter variable">-rin</span> <span class="token string">">assert"</span> <span class="token builtin class-name">.</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $2}'</span> <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">"[>(]"</span> <span class="token string">'{print $2}'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-nr</span></code></pre><blockquote><p>The above command should be run in your <code>tests</code> folder. It basically looks for <code>&gt;assert*</code> in the code and sorts them, then counts the unique occurrences and again sorts at the end with most occurrences first.</p></blockquote><p>I will be taking three projects, one small, the second one medium, and the third one is a large one. The size is not only the code but also the number of tests and assertions in the projects.</p><blockquote><p>These projects are built with Symfony and another framework. Two of them are REST APIs and one of them which is the big one has a user interface too.</p></blockquote><h3 id="small-project-with-phpunit-assertions" tabindex="-1">Small Project with PHPUnit Assertions <a class="direct-link" href="#small-project-with-phpunit-assertions">#</a></h3><p>The small project built with Symfony as a REST API has only 104 tests and 306 PHPUnit assertions. The above command when executed on this project’s tests folder gave the following output:</p><img class="center" loading="lazy" src="/images/phpunit-assertions/02phpunit-assertions-count-small.jpg" title="PHPUnit assertions count on a small project" alt="PHPUnit assertions count on a small project"><blockquote><p>As we can see, the most popular PHPUnit assertion used in this project is <code>assertEquals</code> which is used 73 times.</p></blockquote><p>After that, <code>assertSame</code> is used 51 times in this relatively small project. This means almost 1 out of 4 PHPUnit assertions for this project is <code>assertEquals</code>.</p><h3 id="medium-project-for-phpunit-assertions-count" tabindex="-1">Medium project for PHPUnit Assertions count <a class="direct-link" href="#medium-project-for-phpunit-assertions-count">#</a></h3><p>The medium project built with Symfony which is a REST API has 221 tests and 472 PHPUnit assertions. The above command when run on its tests directory looks like below:</p><img class="center" loading="lazy" src="/images/phpunit-assertions/03phpunit-assertions-count-medium.jpg" title="PHPUnit assertions count on a small project" alt="PHPUnit assertions count on a medium project"><blockquote><p>We can clearly see that <code>assertSame</code> and <code>assertEquals</code> is used the most in this small project with 37 times each.</p></blockquote><p>The numbers of asserts don’t add up to 221 because there are a lot of <a href="/blog/2014/02/using-phpunit-data-provider-for-less/">PHPunit data providers</a> used in these tests.</p><p>Still, <code>assertSame</code> and <code>assertEquals</code> make up almost 16% of the assertions used in this project. Recently we switched the code coverage driver to be <a href="/blog/2020/11/phpunit-code-coverage-pcov/">PCov</a> instead of Xdebug. It made the test coverage much faster. If you are interested, I had also blogged about <a href="/blog/2015/07/getting-started-with-unit-testing-in-laravel/">unit testing in Laravel</a> in the past.</p><h3 id="big-project-for-counting-phpunit-assertions" tabindex="-1">Big project for counting PHPUnit Assertions <a class="direct-link" href="#big-project-for-counting-phpunit-assertions">#</a></h3><p>Next up is the big-sized project, it has both APIs and user interface. It has unit tests as well as some integration tests. This project has a whopping 5824 tests and 13975 PHPUnit assertions. When we run the above PHPUnit assertions counter command on this project’s tests folder it yields:</p><img class="center" loading="lazy" src="/images/phpunit-assertions/04phpunit-assertions-count-large.jpg" title="PHPUnit assertions count on a large project" alt="PHPUnit assertions count on a large project"><blockquote><p>Even here, <code>assertEquals</code> is still the most used PHPUnit assertion with 3145 occurrences.</p></blockquote><p>That accounts for 22.5% of all asserts in the test suite. Next in line is <code>assertTrue</code> which is used 942 times, making it get 6.74% of the pie. Let’s have a look at some more PHPUnit assertions that are very helpful but not that obvious.</p><h2 id="anatomy-of-phpunit-assertions" tabindex="-1">Anatomy of PHPUnit assertions <a class="direct-link" href="#anatomy-of-phpunit-assertions">#</a></h2><p>Assertions in PHPUnit follow a pattern, for instance, <code>assertEquals</code> takes 3 arguments. The first one is <code>expected</code>, the second one is <code>actual</code>, and the third one which is optional but important is <code>message</code>.</p><blockquote><p>The message is printed when the test fails.</p></blockquote><p>For instance the following test:</p><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'0'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'check if 1 is 1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Will result in:</p><pre class="language-bash"><code class="language-bash"><span class="highlight-line">There was <span class="token number">1</span> failure:</span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token number">1</span><span class="token punctuation">)</span>FCQN::testAssertEqualsFail</span><br><mark class="highlight-line highlight-line-active">check <span class="token keyword">if</span> <span class="token number">1</span> is <span class="token number">1</span></mark><br><span class="highlight-line">Failed asserting that two strings are equal.</span><br><span class="highlight-line">--- Expected</span><br><span class="highlight-line">+++ Actual</span><br><span class="highlight-line">@@ @@</span><br><span class="highlight-line">-<span class="token string">'1'</span></span><br><span class="highlight-line">+<span class="token string">'0'</span></span></code></pre><p>Notice the <code>check if 1 is 1</code>, these types of messages will be helpful when you debug which tests did not pass and how to fix them.</p><h2 id="some-phpunit-assertions-you-must-start-using-today" tabindex="-1">Some PHPUnit assertions you must start using today <a class="direct-link" href="#some-phpunit-assertions-you-must-start-using-today">#</a></h2><p>In the past, I have used many PHPUnit assertions among the 60 odd available ones. Below are some of them which have been particularly useful:</p><h3 id="assertjsonstringequalsjsonstring" tabindex="-1">assertJsonStringEqualsJsonString <a class="direct-link" href="#assertjsonstringequalsjsonstring">#</a></h3><p>This PHPUnit assertion is very handy when testing APIs’ responses. You can use this <code>assertJsonStringEqualsJsonString</code> assertion to check if the received JSON response matches what you were expecting it to be. To match the JSON string, you could do something like:</p><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertJsonStringEqualsJsonString</span><span class="token punctuation">(</span><br>    <span class="token string single-quoted-string">'{"message": "ok"}'</span><span class="token punctuation">,</span> <br>    <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"message"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"ok"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <br>    <span class="token string single-quoted-string">'Check message ok json'</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The next one is about Regex matching.</p><h3 id="assertmatchesregularexpression-or-assertregexp" tabindex="-1">assertMatchesRegularExpression or assertRegExp <a class="direct-link" href="#assertmatchesregularexpression-or-assertregexp">#</a></h3><p>As the name sounds the assert will match for the regular expression. I have found it helpful to test error messages that begin with something or have a defined pattern. It was called <code>assertRegExp</code> in PHPUnit <a href="https://phpunit.readthedocs.io/en/8.5/assertions.html#assertregexp">8.5</a>. Below is an example which checks for string <code>Exception 40\d</code> so 40 and any digit, the test below will as the test string is <code>Exception 501</code>:</p><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertRegExp</span><span class="token punctuation">(</span><br>    <span class="token string single-quoted-string">'/Exception 40\d/'</span><span class="token punctuation">,</span> <br>    <span class="token string single-quoted-string">'Exception 501'</span><span class="token punctuation">,</span> <br>    <span class="token string single-quoted-string">'Check if it is exception 40x'</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The next one is about strings.</p><h3 id="assertstringcontainsstring" tabindex="-1">assertStringContainsString <a class="direct-link" href="#assertstringcontainsstring">#</a></h3><p>This is also a very handy assertion to check if a given string has another string. If you want to ignore the letter case you can use <code>assertStringContainsStringIgnoringCase</code>. The <code>assertStringStartsWith</code> and <code>assertStringEndsWith</code> PHPUnit assertions are also very useful. Below is a quick example of the string contains the string:</p><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertStringContainsString</span><span class="token punctuation">(</span><br>    <span class="token string single-quoted-string">'Error'</span><span class="token punctuation">,</span> <br>    <span class="token string single-quoted-string">'Error id is required, the quote is required'</span><span class="token punctuation">,</span> <br>    <span class="token string single-quoted-string">'Check if word Error is present'</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Consequently, we have the ever-popular assert Equals PHPUnit assertion with a twist.</p><h3 id="assetequalswithdelta" tabindex="-1">assetEqualsWithDelta <a class="direct-link" href="#assetequalswithdelta">#</a></h3><p>Another useful PHPUnit assertion is <code>assertEqualsWithDelta</code>. When you have a test where some variance is expected this assertion is super useful. Below is an example:</p><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertEqualsWithDelta</span><span class="token punctuation">(</span><span class="token number">34.3</span><span class="token punctuation">,</span> <span class="token number">34.1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'0.5 degree variance in temperature is allowed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Subsequently, we have a PHPUnit assertion that is related to PHP arrays.</p><h3 id="assertarrayhaskey" tabindex="-1">assertArrayHasKey <a class="direct-link" href="#assertarrayhaskey">#</a></h3><p>The <code>assertArrayHasKey</code> assertion in PHPUnit is also very helpful. If you are using arrays are return types then you can use this assertion to check if the returned array has a certain key before checking the value. Below is an example of this practical PHPUnit assertion:</p><pre class="language-php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">testAssertArrayHasKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token variable">$exchangeRates</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'usd'</span> <span class="token operator">=></span> <span class="token number">0.77</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'euro'</span> <span class="token operator">=></span> <span class="token number">0.63</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>    <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertArrayHasKey</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'usd'</span><span class="token punctuation">,</span> <span class="token variable">$exchangeRates</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Check if USD is available'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">0.77</span><span class="token punctuation">,</span> <span class="token variable">$exchangeRates</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'usd'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Test if USD rate is 0.77'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>You can view all the 5 PHPUnit assertions’ examples in this <a href="https://gist.github.com/geshan/75153b39e6277dd8ece4048cf1d44ae5">gist</a>.</p><h2 id="conclusion" tabindex="-1">Conclusion <a class="direct-link" href="#conclusion">#</a></h2><p>You can find a list of PHPUnit assertions in this <a href="https://gist.github.com/briankip/35e3506be8b1ecbcf3bb">list</a> too.</p><blockquote><p>Before wiring up 2 or 3 PHPUnit assertions please do check on the <a href="https://phpunit.readthedocs.io/en/9.5/assertions.html">docs</a> if there is any existing assertion that suits your use case.</p></blockquote><p>As per need, you can also write your <a href="https://matthiasnoback.nl/2012/02/phpunit-writing-a-custom-assertion/">custom assertion</a>. Happy PHPUnit testing!</p></div><div class="flex items-center justify-between gap-3 md:gap-4 flex-wrap md:flex-nowrap py-2 border-y border-lightbg mt-4"><div class="flex items-center justify-start md:gap-4 gap-2 flex-wrap w-2/3"><div class="flex justify-start items-center gap-3 md:gap-4"><img src="/images/favicons/favicon-32x32-pp.png" alt="Geshan Manandhar" class="w-10 h-10 rounded-full object-cover flex-shrink-0"> <span class="text-gray font-medium font-ui text-md md:text-xl uppercase tracking-wide text-start">Geshan Manandhar</span></div><time datetime="2021-01-03" data-updated="true"><time class="entry-date" datetime="2021-01-03"><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">03-Jan-2021 </span></time></time><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">8 MIN READ</span></div><button type="button" id="share-button-bottom" class="flex items-center justify-center w-8 h-8 md:w-9 md:h-9 rounded text-lightGray hover:border-gray-400 hover:bg-gray-50 transition-colors flex-shrink-0" aria-label="Share this post" onclick="toggleShareIconsBottom(); ga('send', 'event', 'share', 'clickShareOnPost');"><img src="/images/shareIcon.svg" alt="Share this post" class="w-6 h-6"></button></div><div id="share-icons-container-bottom" class="share-icons-bottom print:hidden hidden mx-auto" aria-label="Share this post"><div class="w-full flex items-center justify-center mx-auto gap-3"><span class="share-icons"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on LinkedIn" onclick="ga('send', 'event', 'share', 'clickShareOnLinkedIn');"><span id="linkedin-share" class="text-[#0077B5]"><img src="/images/social-icons/linkedin.svg" alt="LinkedIn" class="sharing-common"> </span></a><a href="http://twitter.com/share?text=5 useful PHPUnit Assertions you should start using today - &url=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Twitter" onclick="ga('send', 'event', 'share', 'clickShareOnTwitter');"><span id="twitter-share" class="text-[#1DA1F2]"><img src="/images/social-icons/twitter.svg" alt="Twitter" class="sharing-common"> </span></a><a href="http://www.facebook.com/sharer.php?u=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Facebook" onclick="ga('send', 'event', 'share', 'clickShareOnFacebook');"><span id="facebook-share" class="text-[#1877F2]"><img src="/images/social-icons/facebook.svg" alt="Facebook" class="sharing-common"> </span></a><a href="https://t.me/share/url?url=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Telegram" onclick="ga('send', 'event', 'share', 'clickShareOnTelegram');"><span id="telegram-share" class="text-[#0088cc]"><img src="/images/social-icons/telegram.svg" alt="Telegram" class="sharing-common"> </span></a><a href="https://api.whatsapp.com/send?text=https://geshan.com.np/blog/2021/01/phpunit-assertions/" target="_blank" title="Share '5 useful PHPUnit Assertions you should start using today' on Whatsapp" onclick="ga('send', 'event', 'share', 'clickShareOnWhatsapp');"><span id="whatsapp-share" class="text-[#25d366]"><img src="/images/social-icons/whatsapp.svg" alt="WhatsApp" class="sharing-common"></span></a></span></div></div></article><div class="mt-3"><a href="/blog/categories/web-development/" title="Web Development" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">web development </a><a href="/blog/categories/testing/" title="testing" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">testing </a><a href="/blog/categories/php/" title="PHP" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">php</a></div><section class="md:w-full mx-auto mt-4"><h3 class="comments font-heading">Comments</h3><div id="disqus_thread"></div><button id="disqus_trigger" class="font-ui text-blackText hover:border-darkAvocado border-blacktext hover:shadow-lg border-2 transition ease-in-out delay-100 px-3 py-2 pt-2 mt-2 rounded-md text-center block h-auto text-xl" onclick="load_disqus()">Post a Comment</button><div id="disqus_thread" aria-live="polite"></div></section></div></div><section class="md:w-full mx-auto mt-4 bg-lightAvocado p-4 rounded-lg pb-8"><div class="max-w-6xl mx-auto md:py-12 px-4"><h2 class="text-4xl text-darkAvocado font-heading font-regular flex-shrink-0 py-8 tracking-normal leading-[105%] md:leading-[105%]"><span class="text-lightGray italic">Related</span> <span class="text-blackText">Blogs</span></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2014/02/using-phpunit-data-provider-for-less/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">Using PHPUnit data provider for less code and greater coverage</a> <time class="font-medium text-xl text-textColor uppercase font-ui">01-Feb-2014 &nbsp;&nbsp;&nbsp; 4 min read</time><p class="text-xl text-gray font-ui">This post will show how to use data providers with PHPUnit for higher code coverage.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2020/11/phpunit-code-coverage-pcov/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to make PHPUnit Code Coverage 2+ times faster with Pcov compared to Xdebug</a> <time class="font-medium text-xl text-textColor uppercase font-ui">27-Nov-2020 &nbsp;&nbsp;&nbsp; 6 min read</time><p class="text-xl text-gray font-ui">Speed up your PHPUnit code coverage using Pcov in place of Xdebug. Pcov made the Laravel framework tests twice as fast.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2020/11/nodejs-for-php-developers/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">Node.js for PHP developers: 5 must-know pragmatic aspects with code examples</a> <time class="font-medium text-xl text-textColor uppercase font-ui">14-Nov-2020 &nbsp;&nbsp;&nbsp; 16 min read</time><p class="text-xl text-gray font-ui">There are some important pragmatic aspects about Node.js which are ultra helpful for PHP developers. This 3000+ words guide lists 5 dominant ones with code examples.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2015/07/getting-started-with-unit-testing-in-laravel/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">Getting started with unit testing in Laravel</a> <time class="font-medium text-xl text-textColor uppercase font-ui">25-Jul-2015 &nbsp;&nbsp;&nbsp; 7 min read</time><p class="text-xl text-gray font-ui"></p></div></div></div></section><section class="bg-avocado md:py-0 py-12 px-4"><div class="max-w-6xl mx-auto"><div class="md:hidden"><h2 class="mb-4 text-3xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-base text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-base text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity w-full text-center">Follow on LinkedIn &nbsp;→</a></div><div class="hidden md:grid lg:hidden grid-cols-3 gap-8 items-center"><div class="z-10 col-span-2"><h2 class="mb-4 text-2xl md:text-4xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-xl text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-xl text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity">Follow on LinkedIn &nbsp;→</a></div><div class="flex items-center justify-end col-span-1"><img class="w-32 h-auto" src="/images/theme/new_logo.svg" alt="Geshan"></div></div><div class="hidden lg:grid grid-cols-2 gap-8 lg:gap-12 items-center justify-between h-full"><div class="z-10"><h2 class="mb-4 text-2xl md:text-4xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-xl text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><p class="text-xl text-blackText font-body font-regular mb-6">A big thank you for supporting this ad. free, unobstructive (no overlays, no pop-ups) blog.</p></div><div class="flex items-center gap-12 w-full md:w-auto justify-end self-end"><img class="w-16 md:w-32 h-auto" src="/images/theme/new_logo.svg" alt="Geshan"> <a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-xl text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity w-full md:w-auto text-center md:text-left">Follow on LinkedIn &nbsp;→</a></div></div></div></section></div></div></div></main><footer role="contentinfo"><footer class="bg-avocado sm:px-4"><div class="max-w-6xl mx-auto flex flex-col md:flex-row sm:flex-col justify-between gap-2 items-center sm:items-center md:items-center py-10 font-nav text-lightGray text-base font-regular"><div class="pb-0 sm:pb-2 text-gray"><span class="pr-4">Copyright © 2026 Geshan Manandhar.</span></div><div class="pb-0 sm:pb-2"><ul class="flex"><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> LinkedIn</a></li><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://www.twitter.com/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> Twitter</a></li><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://github.com/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> Github</a></li></ul></div></div></footer></footer><script src="/js/all.min.js" defer="defer"></script></body></html>