<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="author" content="Geshan Manandhar"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Learn how to use environment variables with the dotenv NPM package and natively with Node 20+."><meta name="keywords" content="nodejs dotenv, node js dotenv, node.js dotenv, nodejs environment variables, node.js environment variables, node.js env variables, node.js env, node.js process.env"><meta name="p:domain_verify" content="e654c68562abebfa25c291f59d7d00e8"><meta property="og:type" content="website"><meta property="og:url" content="https://geshan.com.np/blog/2024/11/nodejs-dotenv/"><meta property="og:title" content="How to use environment variables from a .env file in Node.js"><meta property="og:description" content="Learn how to use environment variables with the dotenv NPM package and natively with Node 20+."><meta property="og:site_name" content="Geshan&#39;s Blog"><meta property="og:image" content="https://geshan.com.np/images/nodejs-dotenv/01nodejs-dotenv.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:widgets:new-embed-design" content="on"><meta name="twitter:site" content="@geshan"><meta name="twitter:creator" content="@geshan"><meta name="twitter:title" content="How to use environment variables from a .env file in Node.js"><meta name="twitter:description" content="Learn how to use environment variables with the dotenv NPM package and natively with Node 20+."><meta name="twitter:image:src" content="https://geshan.com.np/images/nodejs-dotenv/01nodejs-dotenv.jpg"><link rel="canonical" href="https://geshan.com.np/blog/2024/11/nodejs-dotenv/"><meta property="fb:pages" content="30717799226"><meta property="fb:app_id" content="106030259434380"><meta name="monetization" content="$ilp.uphold.com/aKHWpqhphm9f"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png"><link href="/atom.xml" rel="alternate" title="Geshan&#39;s Blog" type="application/atom+xml"><title>How to use environment variables from a .env file in Node.js</title><link rel="preconnect" href="/" crossorigin><link rel="preload" href="/css/fonts.css" as="style"><link rel="preload" href="/fonts/source-sans-4/source-serif-4-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/source-sans-4/source-serif-4-latin-500-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/source-sans-pro/source-sans-pro-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/fonts.css"><link rel="stylesheet" href="/css/tw-006.css"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Geshan&#39;s Blog"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-P3NXCVQEPE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-P3NXCVQEPE');</script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWT2D9T');</script><script src="https://cdn.jsdelivr.net/npm/@statsig/js-client@3/build/statsig-js-client+session-replay+web-analytics.min.js?apikey=client-rYO7rX8WSUyyLg9pKJwymLxM71tCE0CKgxgtUj4akzK"></script><link rel="manifest" href="/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="application-name" content="Geshan.com.np"><meta name="apple-mobile-web-app-title" content="Geshan.com.np"><meta name="msapplication-starturl" content="/index.html"><meta name="theme-color" content="#6947E7"><script>if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/sw.js").then(function(registration) {
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
        console.log('ServiceWorker registration failed: ', err);
    });
  }</script></head><body class="overflow-x-hidden font-ui flex flex-col min-h-screen"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWT2D9T" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><header role="banner"><div><nav class="bg-white" role="navigation"><div class="w-full md:max-w-6xl mx-auto py-4 px-4"><div class="flex items-center justify-between h-16"><div class="flex-shrink-0"><a href="/" class="flex items-center"><img class="h-12 w-12" src="/images/theme/new_logo.svg" alt="Geshan G"></a></div><div class="flex items-center gap-12"><div class="hidden sm:flex items-center gap-12"><a href="/posts/1/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">Posts </a><a href="/about/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">About Me </a><a href="https://newsletter.geshan.com.np/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">Newsletter</a></div><form class="search flex items-center" action="https://www.google.com/search" method="GET"><input type="hidden" name="sitesearch" value="geshan.com.np"><div class="relative"><input class="bg-gray-100 border border-neutralGray rounded-lg py-2 pl-10 pr-4 font-body text-sm focus:outline-none focus:ring-2 focus:ring-avocado focus:border-transparent w-40" type="text" name="q" placeholder="Search" label="search"> <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutralGray" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg></div></form><button type="button" class="sm:hidden inline-flex items-center justify-center p-2 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-inset focus:ring-avocado" onclick="mobileView()" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span> <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button></div></div></div><div class="mobile-menu fixed inset-0 z-40 hidden sm:hidden bg-black bg-opacity-40" role="dialog" aria-modal="true"><div class="absolute inset-0" onclick="mobileView()" aria-hidden="true"></div><div class="mobile-menu-panel relative ml-auto flex h-full w-10/12 max-w-sm flex-col justify-start bg-white shadow-xl"><div class="flex items-center justify-between px-4 py-4 border-b border-gray-200"><div class="flex items-center gap-3"><img class="h-8 w-8" src="/images/theme/new_logo.svg" alt="Geshan G"> <span class="text-lg font-semibold text-textColor font-body">Geshan's Blog</span></div><button type="button" class="inline-flex items-center justify-center rounded-full p-2 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-avocado" onclick="mobileView()" aria-label="Close main menu"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button></div><nav class="overflow-y-auto px-4 py-6 space-y-2"><a href="/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Home </a><a href="/posts/1/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Posts </a><a href="/about/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">About Me </a><a href="https://newsletter.geshan.com.np/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Newsletter</a></nav><div class="px 4 py-4 border-t border-gray-200"><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="rounded-lg bg-darkAvocado px-4 py-2 text-base font-regular font-body text-white hover:bg-avocado hover:text-black transition-colors w-2/3 mx-auto ml-4">Connect on LinkedIn</a></div></div></div></nav></div></header><main id="wrap" role="main" class="flex-grow md:px-0"><div id="content"><div class="row"><div><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Geshan&#39;s Blog",
    "alternativeHeadline": "How to use environment variables from a .env file in Node.js",
    "image": "https://geshan.com.np/images/nodejs-dotenv/01nodejs-dotenv.jpg",
    "editor": "Geshan Manandhar",
    "genre": "Node.js",
    "keywords": "nodejs dotenv, node js dotenv, node.js dotenv, nodejs environment variables, node.js environment variables, node.js env variables, node.js env, node.js process.env",
    "url": "https://geshan.com.np/blog/2024/11/nodejs-dotenv/",
    "datePublished": "2024-11-24",
    "dateCreated": "2024-11-24",
    "dateModified": "2024-11-24",
    "description": "Learn how to use environment variables with the dotenv NPM package and natively with Node 20+.",
    "articleBody": "Environment variables are essential for configuring your Node.js applications, allowing you to tailor settings for different environments like development, testing, and production. While you can set environment variables directly in your system or terminal, a more elegant and organized approach is to use a .env file. This file allows you to store all your environment variables in one central location, keeping them separate from your code and making it easy to manage different configurations.In this comprehensive guide, we&#39;ll delve into the world of environment variables in Node.js, explore the role of the popular  some code . For instance:import &#39;dotenv/config&#39;;const dbName = process.env.DATABASE_NAME;const dbUser = process.env.DATABASE_USER;console.log(`Database name is ${dbName} and database username is ${dbUser}`);In the above code example, the  some code  file:const dbName = process.env.DATABASE_NAME;const dbUser = process.env.DATABASE_USER;console.log(`Database name is ${dbName} and database user is ${dbUser}`);You can acces the environment variable by executing:node --require dotenv/config index-no-imports.jsDotenv has a small ecosystem around it, you can learn more by reading it’s Readme file. There is dotenvx, you can encrypt and decrypt your environment variables, and  some code , there&#39;s no need to change.In the end, both achieve the same goal of accessing environment variables from a .env file. Eventually you can move to the native way of accessing environment variables in Node.js 20+ as it&#39;s part of the Node.js core and doesn&#39;t need an external dependency. This will make your application more lightweight and reduce the number of dependencies.",
    "author": { "@type": "Person", "name": "Geshan Manandhar" },
    "publisher": {
      "@type": "Organization",
      "name": "Geshan Manandhar",
      "logo": { "@type": "ImageObject", "url": "https://geshan.com.np/images/favicons/favicon-32x32.png" }
    },
    "mainEntityOfPage": { "@type": "WebPage", "@id": "https://geshan.com.np/blog/2024/11/nodejs-dotenv/" }
  }</script><div class="progress-bar"></div><div class="max-w-6xl py-3 mx-auto grid-cols-12 grid gap-15 px-4 md:px-0 mb-20"><div class="col-span-12"><article class="md:w-full mx-auto"><header class="page-header text-center"><h1 class="font-semibold font-heading text-gray text-center mb-6 tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to use environment variables from a .env file in Node.js</h1><div class="flex items-center justify-between gap-3 md:gap-4 flex-wrap md:flex-nowrap py-2 border-y border-lightbg mt-4"><div class="flex items-center justify-start md:gap-4 gap-2 flex-wrap w-2/3"><div class="flex justify-start items-center gap-3 md:gap-4"><img src="/images/favicons/favicon-32x32-pp.png" alt="Geshan Manandhar" class="w-10 h-10 rounded-full object-cover flex-shrink-0"> <span class="text-gray font-medium font-ui text-md md:text-xl uppercase tracking-wide text-start">Geshan Manandhar</span></div><time datetime="2024-11-24" data-updated="true"><time class="entry-date" datetime="2024-11-24"><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">24-Nov-2024 </span></time></time><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">8 MIN READ</span></div><button type="button" id="share-button" class="flex items-center justify-center w-8 h-8 md:w-9 md:h-9 rounded text-lightGray hover:border-gray-400 hover:bg-gray-50 transition-colors flex-shrink-0" aria-label="Share this post" onclick="toggleShareIcons(); ga('send', 'event', 'share', 'clickShareOnPost');"><img src="/images/shareIcon.svg" alt="Share this post" class="w-6 h-6"></button></div><div id="share-icons-container" class="share-icons print:hidden hidden" aria-label="Share this post"><div class="flex items-center justify-center gap-3"><span class="share-icons"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on LinkedIn" onclick="ga('send', 'event', 'share', 'clickShareOnLinkedIn');"><span id="linkedin-share" class="text-[#0077B5]"><img src="/images/social-icons/linkedin.svg" alt="LinkedIn" class="sharing-common"> </span></a><a href="http://twitter.com/share?text=How to use environment variables from a .env file in Node.js - &url=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Twitter" onclick="ga('send', 'event', 'share', 'clickShareOnTwitter');"><span id="twitter-share" class="text-[#1DA1F2]"><img src="/images/social-icons/twitter.svg" alt="Twitter" class="sharing-common"> </span></a><a href="http://www.facebook.com/sharer.php?u=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Facebook" onclick="ga('send', 'event', 'share', 'clickShareOnFacebook');"><span id="facebook-share" class="text-[#1877F2]"><img src="/images/social-icons/facebook.svg" alt="Facebook" class="sharing-common"> </span></a><a href="https://t.me/share/url?url=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Telegram" onclick="ga('send', 'event', 'share', 'clickShareOnTelegram');"><span id="telegram-share" class="text-[#0088cc]"><img src="/images/social-icons/telegram.svg" alt="Telegram" class="sharing-common"> </span></a><a href="https://api.whatsapp.com/send?text=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Whatsapp" onclick="ga('send', 'event', 'share', 'clickShareOnWhatsapp');"><span id="whatsapp-share" class="text-[#25d366]"><img src="/images/social-icons/whatsapp.svg" alt="WhatsApp" class="sharing-common"></span></a></span></div></div></header><div class="entry-content clearfix font-body text-xl text-gray"><p>Environment variables are essential for configuring your Node.js applications, allowing you to tailor settings for different environments like development, testing, and production. While you can set environment variables directly in your system or terminal, a more elegant and organized approach is to use a <strong>.env file</strong>. This file allows you to store all your environment variables in one central location, keeping them separate from your code and making it easy to manage different configurations.</p><p>In this comprehensive guide, we'll delve into the world of environment variables in Node.js, explore the role of the popular <code>dotenv</code> package, and uncover how to use it effectively. We'll also explore the native way of accessing environment variables in Node.js 20+ using ESM (EcmaScript Modules). Let's get started!</p><img class="center" src="/images/nodejs-dotenv/01nodejs-dotenv.jpg" title="How to use environment variables from a .env file in Node.js" alt="How to use environment variables from a .env file in Node.js"><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="direct-link" href="#table-of-contents">#</a></h2><ul><li><a href="#introduction">Introduction</a></li><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#get-environment-variables-using-dotenv">Get environment variables using dotenv</a><ul><li><a href="#installing-dotenv">Installing dotenv</a></li><li><a href="#creating-a-.env-file">Creating a .env file</a></li><li><a href="#loading-environment-variables">Loading environment variables</a></li></ul></li><li><a href="#get-environment-variables-natively-node-20%2B">Get environment variables natively Node 20+</a><ul><li><a href="#using-%E2%80%93env-file-in-node-cli">Using –-env file in node cli</a></li></ul></li><li><a href="#dotenv-is-still-popular">Dotenv is still popular</a></li><li><a href="#conclusion">Conclusion</a></li></ul><h2 id="introduction" tabindex="-1">Introduction <a class="direct-link" href="#introduction">#</a></h2><p>Imagine you're building a Node.js application that needs to connect to a database. You'll need to store the database credentials, such as the host, username, password, and database name, somewhere. Hardcoding these credentials directly into your code is a security risk and makes managing different configurations for different environments difficult.</p><p>That's where environment variables come to the rescue. You can store sensitive information like API keys, database credentials, and other configuration settings as environment variables, keeping them separate from your codebase. This enhances security and makes it easier to deploy your application to different environments with different configurations.</p><p>A .env file is a simple text file that stores your environment variables in a key-value format. It's a widely adopted convention in the Node.js ecosystem for managing environment variables, and there's a popular NPM package called <code>dotenv</code> that makes it easy to load these variables into your application. It also helps you achieve the <a href="https://12factor.net/config">config</a> part of the 12-factor app. The 12-factor app’s config factor states, “requires strict separation of config from code. Config varies substantially across deploys, code does not.”</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="direct-link" href="#prerequisites">#</a></h2><p>Before we dive into the code and explore how to use environment variables from a .env file, ensure you have the following prerequisites:</p><ul><li><strong>Node.js 20 or later installed:</strong> We'll be using the latest features of Node.js, so having a recent version installed is essential. You can check your Node.js version by running <code>node --version</code> in your terminal.</li><li><strong>A basic understanding of Node.js and NPM:</strong> You should be familiar with running Node.js scripts and installing NPM packages using the <code>npm install</code> command.</li><li><strong>Basic knowledge of JavaScript Modules:</strong> This guide will use ESM imports. This is the new standard for JavaScript modules, and it's supported in Node.js 14 and above.</li></ul><p>In the subsequent section, you will learn how to get environment variables using the <code>dotenv</code> package.</p><h2 id="get-environment-variables-using-dotenv" tabindex="-1">Get environment variables using dotenv <a class="direct-link" href="#get-environment-variables-using-dotenv">#</a></h2><p><a href="https://www.npmjs.com/package/dotenv">dotenv</a> is a zero-dependency module that loads environment variables from a <code>.env</code> file into <code>process.env</code>. It's a simple and convenient way to manage your environment variables, keeping them separate from your code and making deploying your application to different environments easier.</p><h3 id="installing-dotenv" tabindex="-1">Installing dotenv <a class="direct-link" href="#installing-dotenv">#</a></h3><p>To get started with <code>dotenv</code>, you need to install it first. You can install it using the following command in your terminal:</p><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> dotenv</code></pre><p>This command will install the <code>dotenv</code> package from the NPM registry and add it to your project's <code>package.json</code> file as a dependency. At the time of writing <code>dotenv</code> is at version <a href="https://www.npmjs.com/package/dotenv/v/16.4.5">16.4.5</a>.</p><h3 id="creating-a-.env-file" tabindex="-1">Creating a .env file <a class="direct-link" href="#creating-a-.env-file">#</a></h3><p>After you have installed the <code>dotenv</code> package, you can create a <code>.env</code> file in the root directory of your project. This file will contain all your environment variables. The format of the <code>.env</code> file is simple. Each line represents an environment variable, with the key and value separated by an equal sign (<code>=</code>). For example:</p><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">DATABASE_NAME</span><span class="token operator">=</span>quotes<br><span class="token assign-left variable">DATABASE_USER</span><span class="token operator">=</span>quotes_user</code></pre><h3 id="loading-environment-variables" tabindex="-1">Loading environment variables <a class="direct-link" href="#loading-environment-variables">#</a></h3><p>To load the environment variables from your <code>.env</code> file into <code>process.env</code>, you need to call the <code>config</code> method from the <code>dotenv</code> module. This should be done at the very start of your application before any other code is executed. A common place to call the config method is in your application's entry point, which is usually <code>index.js</code> or <code>app.js</code>. For instance:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'dotenv/config'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> dbName <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_NAME</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> dbUser <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_USER</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Database name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dbName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and database username is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dbUser<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>In the above code example, the <code>dotenv/config</code> import call loads the environment variables from the <code>.env</code> file into <code>process.env</code>. Then, you add two constants, <code>dbName</code> and <code>dbUser</code>, to get the relevant environment variables and show them on the console with <code>console.log</code>. If it was a real application, like an Express.js app, you would have used these variables to instantiate the connection to a database.</p><p>When you run the above <code>index.js</code> file with <code>node index.js</code> and the relevant <code>.env</code> file it will show the following output:</p><img class="center" src="/images/nodejs-dotenv/02nodejs-dotenv-use.jpg" loading="lazy" title="Output of using the NPM dotenv package with Node.js version less than 20" alt="Output of using the NPM dotenv package with Node.js version less than 20"><p>If you want to use a different filename than <code>.env</code>. You can import only the <code>dotenv</code>module with <code>import dotenv from 'dotenv';</code>, you can use a custom <code>.env</code> file (not <code>.env</code>), you can pass in the path to the file as an argument to the <code>config</code> method like the below:</p><pre class="language-javascript"><code class="language-javascript">dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'./.env.example'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Another useful way of using <code>dotenv</code> without any import or require is to pass it in the node command. For instance for a file named <code>index-no-imports.js</code> which as the below contents with the same <code>.env</code> file:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> dbName <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_NAME</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> dbUser <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_USER</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Database name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dbName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and database user is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dbUser<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You can acces the environment variable by executing:</p><pre class="language-bash"><code class="language-bash"><span class="token function">node</span> <span class="token parameter variable">--require</span> dotenv/config index-no-imports.js</code></pre><p>Dotenv has a small ecosystem around it, you can learn more by reading it’s <a href="https://github.com/motdotla/dotenv">Readme</a> file. There is dotenvx, you can encrypt and decrypt your environment variables, and <code>dotenv-valut</code> too. It is supported by companies like Warp, WorkOs and Alloy Automation. It also has a YouTube channel and a <a href="https://www.youtube.com/watch?v=YtkZR0NFd1g">video</a> explaining how to use it. There are lots of official examples using it from projects like <a href="https://github.com/dotenv-org/examples/tree/master/nextjs">Next.js</a> to express.</p><p>In the next section, you will learn about the native way of accessing environment variables in Node.js 20+.</p><h2 id="get-environment-variables-natively-node-20%2B" tabindex="-1">Get environment variables natively Node 20+ <a class="direct-link" href="#get-environment-variables-natively-node-20%2B">#</a></h2><p>From Node.js 20+, there is a native way to access environment variables without the<br>need to install a NPM package like <code>dotenv.</code> From Node 20.6.0, one of the most notable changes is the built-in support for .env files</p><h3 id="using-%E2%80%93env-file-in-node-cli" tabindex="-1">Using –env file in node cli <a class="direct-link" href="#using-%E2%80%93env-file-in-node-cli">#</a></h3><p>With the same <code>.env</code> file and the <code>index-no-imports.js</code> file from the above example. You can use the environment variales from the <code>.env</code> file in any <code>js</code> file with the following command:</p><pre class="language-bash"><code class="language-bash"><span class="token function">node</span> --env-file .env index-no-imports.js</code></pre><p>It will result in:</p><img class="center" src="/images/nodejs-dotenv/03nodejs-env-file.jpg" loading="lazy" title="Output of using the Node.js --env-file to load env file in Node.js version 20+" alt="Output of using the Node.js --env-file to load env file in Node.js version 20+"><p>Which is exactly the same as the above output without the need to import <code>dotenv</code> in the file or in the command line. This is possible from Node 20.6.0 as it <a href="https://nodejs.org/en/blog/release/v20.6.0#built-in-env-file-support">added built-in support for .env files</a>.</p><p>You can update your <code>.env</code> file and run the code again and it will pick up the updated<br>environment variable. This is how you can access environment variables with<br><code>import.meta.env</code> in Node.js 20+. You can use <a href="/blog/2021/02/nodemon/">nodemon</a> to restart your applications when a <code>.js</code> file changes or even when a <code>.env</code> file changes with the correct watches.</p><p>For your reference, you can find the code examples in this <a href="https://github.com/geshan/nodejs-dotenv">GitHub repository</a>.</p><h2 id="dotenv-is-still-popular" tabindex="-1">Dotenv is still popular <a class="direct-link" href="#dotenv-is-still-popular">#</a></h2><p>Given that Node.js 20+ has provided a native way to access environment variables since Sep 2023 (more than a year from when this blog post was written), you might be wondering why to bother with dotenv? It's a valid question with a valid answer:<br><code>dotenv</code> is still the most popular package for getting environment variables from a .env file.</p><blockquote><p>With over 45 million downloads per week as of Nov 2023, <code>dotenv</code> is a battle-tested and widely used package in the Node.js ecosystem.</p></blockquote><p>You can see a comparison of dotenv, node-env-file, and dot-env as per <a href="https://npmtrends.com/dot-env-vs-dotenv-vs-node-env-file">npm trends</a> below:</p><img class="center" src="/images/nodejs-dotenv/04npm-dotenv-popular.jpg" loading="lazy" title="NPM dotevn package is still very popular with more than 45 million downloads each week" alt="NPM dotevn package is still very popular with more than 45 million downloads each week"><p>As you can see, dotenv is the clear winner, with exponentially more weekly downloads than its competitor, node-env-file. Even though dot-env is a similar library, the downloads are minimal. <code>dot-env</code> has not been updated in the past 11 years, though, whereas <code>dotenv</code> is a very active project on <a href="https://github.com/motdotla/dotenv/commits/master/">GitHub</a>.</p><h2 id="conclusion" tabindex="-1">Conclusion <a class="direct-link" href="#conclusion">#</a></h2><p>In this comprehensive guide, you have learned how to access environment variables from<br>a .env file in Node.js. You explored two methods, the first one using the popular dotenv package and the second one using the native <code>--env-file</code> available in Node.js 20+. With the knowledge of both methods, you can now make an informed choice depending on your project's needs.</p><blockquote><p>If you are working on a new project, I recommend opting for the native <code>--env-file</code> method, as it's part of Node.js and doesn't need an external dependency. But if you are working on an existing project that already uses <code>dotenv</code>, there's no need to change.</p></blockquote><p>In the end, both achieve the same goal of accessing environment variables from a .env file. Eventually you can move to the native way of accessing environment variables in Node.js 20+ as it's part of the Node.js core and doesn't need an external dependency. This will make your application more lightweight and reduce the number of dependencies.</p></div><div class="flex items-center justify-between gap-3 md:gap-4 flex-wrap md:flex-nowrap py-2 border-y border-lightbg mt-4"><div class="flex items-center justify-start md:gap-4 gap-2 flex-wrap w-2/3"><div class="flex justify-start items-center gap-3 md:gap-4"><img src="/images/favicons/favicon-32x32-pp.png" alt="Geshan Manandhar" class="w-10 h-10 rounded-full object-cover flex-shrink-0"> <span class="text-gray font-medium font-ui text-md md:text-xl uppercase tracking-wide text-start">Geshan Manandhar</span></div><time datetime="2024-11-24" data-updated="true"><time class="entry-date" datetime="2024-11-24"><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">24-Nov-2024 </span></time></time><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">8 MIN READ</span></div><button type="button" id="share-button-bottom" class="flex items-center justify-center w-8 h-8 md:w-9 md:h-9 rounded text-lightGray hover:border-gray-400 hover:bg-gray-50 transition-colors flex-shrink-0" aria-label="Share this post" onclick="toggleShareIconsBottom(); ga('send', 'event', 'share', 'clickShareOnPost');"><img src="/images/shareIcon.svg" alt="Share this post" class="w-6 h-6"></button></div><div id="share-icons-container-bottom" class="share-icons-bottom print:hidden hidden mx-auto" aria-label="Share this post"><div class="w-full flex items-center justify-center mx-auto gap-3"><span class="share-icons"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on LinkedIn" onclick="ga('send', 'event', 'share', 'clickShareOnLinkedIn');"><span id="linkedin-share" class="text-[#0077B5]"><img src="/images/social-icons/linkedin.svg" alt="LinkedIn" class="sharing-common"> </span></a><a href="http://twitter.com/share?text=How to use environment variables from a .env file in Node.js - &url=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Twitter" onclick="ga('send', 'event', 'share', 'clickShareOnTwitter');"><span id="twitter-share" class="text-[#1DA1F2]"><img src="/images/social-icons/twitter.svg" alt="Twitter" class="sharing-common"> </span></a><a href="http://www.facebook.com/sharer.php?u=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Facebook" onclick="ga('send', 'event', 'share', 'clickShareOnFacebook');"><span id="facebook-share" class="text-[#1877F2]"><img src="/images/social-icons/facebook.svg" alt="Facebook" class="sharing-common"> </span></a><a href="https://t.me/share/url?url=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Telegram" onclick="ga('send', 'event', 'share', 'clickShareOnTelegram');"><span id="telegram-share" class="text-[#0088cc]"><img src="/images/social-icons/telegram.svg" alt="Telegram" class="sharing-common"> </span></a><a href="https://api.whatsapp.com/send?text=https://geshan.com.np/blog/2024/11/nodejs-dotenv/" target="_blank" title="Share 'How to use environment variables from a .env file in Node.js' on Whatsapp" onclick="ga('send', 'event', 'share', 'clickShareOnWhatsapp');"><span id="whatsapp-share" class="text-[#25d366]"><img src="/images/social-icons/whatsapp.svg" alt="WhatsApp" class="sharing-common"></span></a></span></div></div></article><div class="mt-3"><a href="/blog/categories/node.js/" title="Node.js" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">node.js </a><a href="/blog/categories/javascript/" title="Javascript" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">javascript </a><a href="/blog/categories/web-development/" title="Web Development" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">web development</a></div><section class="md:w-full mx-auto mt-4"><h3 class="comments font-heading">Comments</h3><div id="disqus_thread"></div><button id="disqus_trigger" class="font-ui text-blackText hover:border-darkAvocado border-blacktext hover:shadow-lg border-2 transition ease-in-out delay-100 px-3 py-2 pt-2 mt-2 rounded-md text-center block h-auto text-xl" onclick="load_disqus()">Post a Comment</button><div id="disqus_thread" aria-live="polite"></div></section></div></div><section class="md:w-full mx-auto mt-4 bg-lightAvocado p-4 rounded-lg pb-8"><div class="max-w-6xl mx-auto md:py-12 px-4"><h2 class="text-4xl text-darkAvocado font-heading font-regular flex-shrink-0 py-8 tracking-normal leading-[105%] md:leading-[105%]"><span class="text-lightGray italic">Related</span> <span class="text-blackText">Blogs</span></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2024/10/nodejs-read-json-file/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to Read a JSON File Using Node.js</a> <time class="font-medium text-xl text-textColor uppercase font-ui">30-Oct-2024 &nbsp;&nbsp;&nbsp; 10 min read</time><p class="text-xl text-gray font-ui">Learn how to read a JSON file using Node.js. This post covers reading a JSON file synchronously and asynchronously using the fs module and fs-extra NPM package.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2023/12/nodejs-duet-ai-vs-code/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to write and deploy a basic Node.js API with Duet AI on VS Code a step-by-step guide</a> <time class="font-medium text-xl text-textColor uppercase font-ui">18-Dec-2023 &nbsp;&nbsp;&nbsp; 9 min read</time><p class="text-xl text-gray font-ui">Learn how to write and deploy a basic Node.js API with Duet AI on VS Code, in this step-by-step tutorial with 20+ screenshots!</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2023/03/mongodb-docker-compose/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to run MongoDB with Docker and Docker Compose a Step-by-Step guide</a> <time class="font-medium text-xl text-textColor uppercase font-ui">29-Mar-2023 &nbsp;&nbsp;&nbsp; 9 min read</time><p class="text-xl text-gray font-ui">In this step-by-step tutorial learn how to run MongoDB with Docker and Docker Compose. Also has an example with Node.js + MongoDB with Docker Compose.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2023/03/inquirer-js/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">A step-by-step guide to using Inquirer.js for creating a CLI app in Node.js</a> <time class="font-medium text-xl text-textColor uppercase font-ui">25-Mar-2023 &nbsp;&nbsp;&nbsp; 18 min read</time><p class="text-xl text-gray font-ui">In this step-by-step tutorial learn how to use Inquirer.js to create a simple yet complete CLI app using Node.js.</p></div></div></div></section><section class="bg-avocado md:py-0 py-12 px-4"><div class="max-w-6xl mx-auto"><div class="md:hidden"><h2 class="mb-4 text-3xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-base text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-base text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity w-full text-center">Follow on LinkedIn &nbsp;→</a></div><div class="hidden md:grid lg:hidden grid-cols-3 gap-8 items-center"><div class="z-10 col-span-2"><h2 class="mb-4 text-2xl md:text-4xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-xl text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-xl text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity">Follow on LinkedIn &nbsp;→</a></div><div class="flex items-center justify-end col-span-1"><img class="w-32 h-auto" src="/images/theme/new_logo.svg" alt="Geshan"></div></div><div class="hidden lg:grid grid-cols-2 gap-8 lg:gap-12 items-center justify-between h-full"><div class="z-10"><h2 class="mb-4 text-2xl md:text-4xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-xl text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><p class="text-xl text-blackText font-body font-regular mb-6">A big thank you for supporting this ad. free, unobstructive (no overlays, no pop-ups) blog.</p></div><div class="flex items-center gap-12 w-full md:w-auto justify-end self-end"><img class="w-16 md:w-32 h-auto" src="/images/theme/new_logo.svg" alt="Geshan"> <a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-xl text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity w-full md:w-auto text-center md:text-left">Follow on LinkedIn &nbsp;→</a></div></div></div></section></div></div></div></main><footer role="contentinfo"><footer class="bg-avocado sm:px-4"><div class="max-w-6xl mx-auto flex flex-col md:flex-row sm:flex-col justify-between gap-2 items-center sm:items-center md:items-center py-10 font-nav text-lightGray text-base font-regular"><div class="pb-0 sm:pb-2 text-gray"><span class="pr-4">Copyright © 2026 Geshan Manandhar.</span></div><div class="pb-0 sm:pb-2"><ul class="flex"><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> LinkedIn</a></li><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://www.twitter.com/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> Twitter</a></li><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://github.com/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> Github</a></li></ul></div></div></footer></footer><script src="/js/all.min.js" defer="defer"></script></body></html>