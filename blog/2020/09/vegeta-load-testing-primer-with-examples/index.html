<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="author" content="Geshan Manandhar"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Get started with Vegeta load testing by reading this easy to follow 1500+ word tutorial with practical examples. Find out easy to execute commands to load test your app/API in seconds."><meta name="keywords" content="vegeta load testing, vegeta load testing examples, vegeta load test, load testing"><meta name="p:domain_verify" content="e654c68562abebfa25c291f59d7d00e8"><meta property="og:type" content="website"><meta property="og:url" content="https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/"><meta property="og:title" content="Vegeta load testing a quick primer with GET examples"><meta property="og:description" content="Get started with Vegeta load testing by reading this easy to follow 1500+ word tutorial with practical examples. Find out easy to execute commands to load test your app/API in seconds."><meta property="og:site_name" content="Geshan&#39;s Blog"><meta property="og:image" content="https://geshan.com.np/images/vegeta-load-testing/01truck-load.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:widgets:new-embed-design" content="on"><meta name="twitter:site" content="@geshan"><meta name="twitter:creator" content="@geshan"><meta name="twitter:title" content="Vegeta load testing a quick primer with GET examples"><meta name="twitter:description" content="Get started with Vegeta load testing by reading this easy to follow 1500+ word tutorial with practical examples. Find out easy to execute commands to load test your app/API in seconds."><meta name="twitter:image:src" content="https://geshan.com.np/images/vegeta-load-testing/01truck-load.jpg"><link rel="canonical" href="https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/"><meta property="fb:pages" content="30717799226"><meta property="fb:app_id" content="106030259434380"><meta name="monetization" content="$ilp.uphold.com/aKHWpqhphm9f"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png"><link href="/atom.xml" rel="alternate" title="Geshan&#39;s Blog" type="application/atom+xml"><title>Vegeta load testing an easy to follow how to tutorial with GET examples</title><link rel="preconnect" href="/" crossorigin><link rel="preload" href="/css/fonts.css" as="style"><link rel="preload" href="/fonts/source-sans-4/source-serif-4-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/source-sans-4/source-serif-4-latin-500-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/source-sans-pro/source-sans-pro-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/fonts.css"><link rel="stylesheet" href="/css/tw-006.css"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Geshan&#39;s Blog"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-P3NXCVQEPE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-P3NXCVQEPE');</script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWT2D9T');</script><script src="https://cdn.jsdelivr.net/npm/@statsig/js-client@3/build/statsig-js-client+session-replay+web-analytics.min.js?apikey=client-rYO7rX8WSUyyLg9pKJwymLxM71tCE0CKgxgtUj4akzK"></script><link rel="manifest" href="/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="application-name" content="Geshan.com.np"><meta name="apple-mobile-web-app-title" content="Geshan.com.np"><meta name="msapplication-starturl" content="/index.html"><meta name="theme-color" content="#6947E7"><script>if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/sw.js").then(function(registration) {
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
        console.log('ServiceWorker registration failed: ', err);
    });
  }</script></head><body class="overflow-x-hidden font-ui flex flex-col min-h-screen"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWT2D9T" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><header role="banner"><div><nav class="bg-white" role="navigation"><div class="w-full md:max-w-6xl mx-auto py-4 px-4"><div class="flex items-center justify-between h-16"><div class="flex-shrink-0"><a href="/" class="flex items-center"><img class="h-12 w-12" src="/images/theme/new_logo.svg" alt="Geshan G"></a></div><div class="flex items-center gap-12"><div class="hidden sm:flex items-center gap-12"><a href="/posts/1/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">Posts </a><a href="/about/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">About Me </a><a href="https://newsletter.geshan.com.np/" class="uppercase text-base font-ui font-medium text-gray hover:text-midgrey transition-colors" aria-current="page">Newsletter</a></div><form class="search flex items-center" action="https://www.google.com/search" method="GET"><input type="hidden" name="sitesearch" value="geshan.com.np"><div class="relative"><input class="bg-gray-100 border border-neutralGray rounded-lg py-2 pl-10 pr-4 font-body text-sm focus:outline-none focus:ring-2 focus:ring-avocado focus:border-transparent w-40" type="text" name="q" placeholder="Search" label="search"> <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutralGray" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg></div></form><button type="button" class="sm:hidden inline-flex items-center justify-center p-2 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-inset focus:ring-avocado" onclick="mobileView()" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span> <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button></div></div></div><div class="mobile-menu fixed inset-0 z-40 hidden sm:hidden bg-black bg-opacity-40" role="dialog" aria-modal="true"><div class="absolute inset-0" onclick="mobileView()" aria-hidden="true"></div><div class="mobile-menu-panel relative ml-auto flex h-full w-10/12 max-w-sm flex-col justify-start bg-white shadow-xl"><div class="flex items-center justify-between px-4 py-4 border-b border-gray-200"><div class="flex items-center gap-3"><img class="h-8 w-8" src="/images/theme/new_logo.svg" alt="Geshan G"> <span class="text-lg font-semibold text-textColor font-body">Geshan's Blog</span></div><button type="button" class="inline-flex items-center justify-center rounded-full p-2 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-avocado" onclick="mobileView()" aria-label="Close main menu"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button></div><nav class="overflow-y-auto px-4 py-6 space-y-2"><a href="/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Home </a><a href="/posts/1/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Posts </a><a href="/about/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">About Me </a><a href="https://newsletter.geshan.com.np/" class="block rounded-lg px-3 py-2 text-base font-medium font-ui text-black hover:bg-lightAvocado" aria-current="page">Newsletter</a></nav><div class="px 4 py-4 border-t border-gray-200"><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="rounded-lg bg-darkAvocado px-4 py-2 text-base font-regular font-body text-white hover:bg-avocado hover:text-black transition-colors w-2/3 mx-auto ml-4">Connect on LinkedIn</a></div></div></div></nav></div></header><main id="wrap" role="main" class="flex-grow md:px-0"><div id="content"><div class="row"><div><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Geshan&#39;s Blog",
    "alternativeHeadline": "Vegeta load testing a quick primer with GET examples",
    "image": "https://geshan.com.np/images/vegeta-load-testing/01truck-load.jpg",
    "editor": "Geshan Manandhar",
    "genre": "Software Engineering",
    "keywords": "vegeta load testing, vegeta load testing examples, vegeta load test, load testing",
    "url": "https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/",
    "datePublished": "2020-09-06",
    "dateCreated": "2020-09-06",
    "dateModified": "2020-09-06",
    "description": "Get started with Vegeta load testing by reading this easy to follow 1500+ word tutorial with practical examples. Find out easy to execute commands to load test your app/API in seconds.",
    "articleBody": "Load testing is an important part of releasing a reliable API or application. Vegeta load testing will give you the confidence that the application will work well under a defined load. In this post, we will discuss how to use Vegeta for your load testing needs with some GET request examples. As it is just a go binary it is much easier to set up and use than you think, let&#39;s get started.What is Load testing? #Load testing in plain terms means testing an application by simulating some concurrent requests to determine the behavior of the application in the real world like scenario. Basically, it tests how the application will respond when multiple simultaneous users try to use the application.There are many ways to load test applications/APIs and Vegeta is one of the easiest tools to perform load testing on your APIs or applications.I had once written about fast and not so fast test, that would be a good post to read more about testing. This tutorial will guide you on how to install and use Vegeta for load testing.Prerequisites for this tutorial #Before jumping on the main topic let’s look at some prerequisites:You are good with using the command line (installing and executing CLI apps)Your application/API is deployed on a server (staging/production) to test it. Local tests are fine too still they might not give an accurate picture of how the server will behave on load.You have some experience with load testing (may be used locust or Jmeter in the past)Alternatives and why Vegeta #Load testing can be done in multiple ways, there are many different SAAS for load testing too. Still, locally installed tools are a great way to load test your application or API. I have used Locust in the past. The setup and execution are not as easy and straightforward as Vegeta.Another option is to go with JMeter. Apache JMeter is a fully-featured load testing tool which also translates to knowing its concepts and having a steep learning curve.Vegeta is a go-lang binary (and library) so installing and using it is a breeze. There are not many concepts to understand and learn.To start with, simply provide a URL and give it how many requests per second you want the URL to be hit with. Vegeta will hit the URL with the frequency provided and can give the HTTP response codes and response time in an easy to comprehend graph.The best thing about Vegeta is there is no need to install python or Java to get started. Next, let’s install Vegeta to begin Vegeta load testing.Install Vegeta #Let us look at the official way Vegeta define itself:Vegeta is a versatile HTTP load testing tool built out of a need to drill HTTP services with a constant request rate. It can be used both as a command-line utility and a library.The easiest way to begin load testing with Vegeta is to download the right executable from its GitHub releases page. At the time of writing, the current version is v12.8.3.Install on Linux #If you are on a 64-bit Linux you can make Vegeta work with the following set of commands:cd ~/downloadswget https://github.com/tsenart/vegeta/releases/download/v12.8.3/vegeta-12.8.3-linux-amd64.tar.gztar -zxvf vegeta-12.8.3-linux-amd64.tar.gzchmod +x vegeta./vegeta --versionIf you want to execute Vegeta from any path, you can add a symlink to your path executing a command like  some code We will see a text output like below:As we have seen doing load testing on multiple URLs with Vegeta is a breeze. Vegeta load testing can easily be done for other HTTP verbs like POST and PUT. Please refer to Vegeta docs.Conclusion #This post was like scratching the surface with a primer on load testing with Vegeta. There are many advanced things that can be done with Vegeta load testing. Vegeta has been very useful on multiple occasions. I had once used Vegeta to load test Google Cloud Functions and Google Cloud Run with the same code to see the response time difference between those two for a talk. The graph comparing both the services made the difference crystal clear.In another instance, we tested a new public-facing microservice that was replacing a part of an old monolith. It was very useful doing Vegeta load testing to know the response time difference for similar Request Per Second loads.Load testing the application or API you want to go to production with is crucial.We once had to open up an API to a much higher load than it would normally get. Our load testing with Vegeta really helped us determine the resources and level of horizontal scaling the API would need to work without issue.All thanks to Vegeta it was much easier than using another tool or service.",
    "author": { "@type": "Person", "name": "Geshan Manandhar" },
    "publisher": {
      "@type": "Organization",
      "name": "Geshan Manandhar",
      "logo": { "@type": "ImageObject", "url": "https://geshan.com.np/images/favicons/favicon-32x32.png" }
    },
    "mainEntityOfPage": { "@type": "WebPage", "@id": "https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" }
  }</script><div class="progress-bar"></div><div class="max-w-6xl py-3 mx-auto grid-cols-12 grid gap-15 px-4 md:px-0 mb-20"><div class="col-span-12"><article class="md:w-full mx-auto"><header class="page-header text-center"><h1 class="font-semibold font-heading text-gray text-center mb-6 tracking-[-0.01em] leading-[105%] md:leading-[105%]">Vegeta load testing a quick primer with GET examples</h1><div class="flex items-center justify-between gap-3 md:gap-4 flex-wrap md:flex-nowrap py-2 border-y border-lightbg mt-4"><div class="flex items-center justify-start md:gap-4 gap-2 flex-wrap w-2/3"><div class="flex justify-start items-center gap-3 md:gap-4"><img src="/images/favicons/favicon-32x32-pp.png" alt="Geshan Manandhar" class="w-10 h-10 rounded-full object-cover flex-shrink-0"> <span class="text-gray font-medium font-ui text-md md:text-xl uppercase tracking-wide text-start">Geshan Manandhar</span></div><time datetime="2020-09-06" data-updated="true"><time class="entry-date" datetime="2020-09-06"><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">06-Sep-2020 </span></time></time><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">8 MIN READ</span></div><button type="button" id="share-button" class="flex items-center justify-center w-8 h-8 md:w-9 md:h-9 rounded text-lightGray hover:border-gray-400 hover:bg-gray-50 transition-colors flex-shrink-0" aria-label="Share this post" onclick="toggleShareIcons(); ga('send', 'event', 'share', 'clickShareOnPost');"><img src="/images/shareIcon.svg" alt="Share this post" class="w-6 h-6"></button></div><div id="share-icons-container" class="share-icons print:hidden hidden" aria-label="Share this post"><div class="flex items-center justify-center gap-3"><span class="share-icons"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on LinkedIn" onclick="ga('send', 'event', 'share', 'clickShareOnLinkedIn');"><span id="linkedin-share" class="text-[#0077B5]"><img src="/images/social-icons/linkedin.svg" alt="LinkedIn" class="sharing-common"> </span></a><a href="http://twitter.com/share?text=Vegeta load testing a quick primer with GET examples - &url=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Twitter" onclick="ga('send', 'event', 'share', 'clickShareOnTwitter');"><span id="twitter-share" class="text-[#1DA1F2]"><img src="/images/social-icons/twitter.svg" alt="Twitter" class="sharing-common"> </span></a><a href="http://www.facebook.com/sharer.php?u=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Facebook" onclick="ga('send', 'event', 'share', 'clickShareOnFacebook');"><span id="facebook-share" class="text-[#1877F2]"><img src="/images/social-icons/facebook.svg" alt="Facebook" class="sharing-common"> </span></a><a href="https://t.me/share/url?url=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Telegram" onclick="ga('send', 'event', 'share', 'clickShareOnTelegram');"><span id="telegram-share" class="text-[#0088cc]"><img src="/images/social-icons/telegram.svg" alt="Telegram" class="sharing-common"> </span></a><a href="https://api.whatsapp.com/send?text=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Whatsapp" onclick="ga('send', 'event', 'share', 'clickShareOnWhatsapp');"><span id="whatsapp-share" class="text-[#25d366]"><img src="/images/social-icons/whatsapp.svg" alt="WhatsApp" class="sharing-common"></span></a></span></div></div></header><div class="entry-content clearfix font-body text-xl text-gray"><p>Load testing is an important part of releasing a reliable API or application. Vegeta load testing will give you the confidence that the application will work well under a defined load. In this post, we will discuss how to use Vegeta for your load testing needs with some GET request examples. As it is just a go binary it is much easier to set up and use than you think, let's get started.</p><img class="center" loading="lazy" src="/images/vegeta-load-testing/01truck-load.jpg" title="Vegeta load testing analogy" alt="Loading a truck"><h2 id="what-is-load-testing%3F" tabindex="-1">What is Load testing? <a class="direct-link" href="#what-is-load-testing%3F">#</a></h2><p>Load testing in plain terms means testing an application by simulating some concurrent requests to determine the behavior of the application in the real world like scenario. Basically, it tests how the application will respond when multiple simultaneous users try to use the application.</p><blockquote><p>There are many ways to load test applications/APIs and Vegeta is one of the easiest tools to perform load testing on your APIs or applications.</p></blockquote><p>I had once written about <a href="/blog/2016/03/there-are-only-two-types-of-automated-software-tests/">fast and not so fast test</a>, that would be a good post to read more about testing. This tutorial will guide you on how to install and use Vegeta for load testing.</p><h2 id="prerequisites-for-this-tutorial" tabindex="-1">Prerequisites for this tutorial <a class="direct-link" href="#prerequisites-for-this-tutorial">#</a></h2><p>Before jumping on the main topic let’s look at some prerequisites:</p><ul><li>You are good with using the command line (installing and executing CLI apps)</li><li>Your application/API is deployed on a server (staging/production) to test it. Local tests are fine too still they might not give an accurate picture of how the server will behave on load.</li><li>You have some experience with load testing (may be used <a href="https://www.geeksforgeeks.org/load-testing-using-locust/">locust</a> or <a href="https://www.guru99.com/jmeter-tutorials.html">Jmeter</a> in the past)</li></ul><h2 id="alternatives-and-why-vegeta" tabindex="-1">Alternatives and why Vegeta <a class="direct-link" href="#alternatives-and-why-vegeta">#</a></h2><p>Load testing can be done in multiple ways, there are many different SAAS for load testing too. Still, locally installed tools are a great way to load test your application or API. I have used <a href="https://locust.io/">Locust</a> in the past. The setup and execution are not as easy and straightforward as <a href="https://github.com/tsenart/vegeta">Vegeta</a>.</p><p>Another option is to go with <a href="https://jmeter.apache.org/">JMeter</a>. Apache JMeter is a fully-featured load testing tool which also translates to knowing its concepts and having a steep learning curve.</p><blockquote><p>Vegeta is a go-lang binary (and library) so installing and using it is a breeze. There are not many concepts to understand and learn.</p></blockquote><p>To start with, simply provide a URL and give it how many requests per second you want the URL to be hit with. Vegeta will hit the URL with the frequency provided and can give the HTTP response codes and response time in an easy to comprehend graph.</p><blockquote><p>The best thing about Vegeta is there is no need to install python or Java to get started. Next, let’s install Vegeta to begin Vegeta load testing.</p></blockquote><h2 id="install-vegeta" tabindex="-1">Install Vegeta <a class="direct-link" href="#install-vegeta">#</a></h2><p>Let us look at the official way Vegeta define itself:</p><blockquote><p>Vegeta is a versatile HTTP load testing tool built out of a need to drill HTTP services with a constant request rate. It can be used both as a command-line utility and a library.</p></blockquote><p>The easiest way to begin load testing with Vegeta is to download the right executable from its GitHub <a href="https://github.com/tsenart/vegeta/releases">releases</a> page. At the time of writing, the current version is v12.8.3.</p><h3 id="install-on-linux" tabindex="-1">Install on Linux <a class="direct-link" href="#install-on-linux">#</a></h3><p>If you are on a 64-bit Linux you can make Vegeta work with the following set of commands:</p><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/downloads<br><span class="token function">wget</span> https://github.com/tsenart/vegeta/releases/download/v12.8.3/vegeta-12.8.3-linux-amd64.tar.gz<br><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> vegeta-12.8.3-linux-amd64.tar.gz<br><span class="token function">chmod</span> +x vegeta<br>./vegeta <span class="token parameter variable">--version</span></code></pre><p>If you want to execute Vegeta from any path, you can add a symlink to your path executing a command like <code>ln -s ~/downloads/vegeta ~/bin/vegeta</code> , then it will work on a new CLI tab.</p><h3 id="install-on-mac" tabindex="-1">Install on Mac <a class="direct-link" href="#install-on-mac">#</a></h3><p>You can also install Vegeta on a Mac with the following command:</p><pre class="language-bash"><code class="language-bash">brew update <span class="token operator">&amp;&amp;</span> brew <span class="token function">install</span> vegeta</code></pre><p>If you already have go-lang installed on your machine and GOBIN in your PATH, you can try to start your Vegeta load testing journey:</p><pre class="language-bash"><code class="language-bash">go get <span class="token parameter variable">-u</span> github.com/tsenart/vegeta</code></pre><p>Check if it installed properly with:</p><pre class="language-bash"><code class="language-bash">vegeta <span class="token parameter variable">--version</span></code></pre><p>You should see a version number displayed.</p><h2 id="your-first-vegeta-load-testing-command" tabindex="-1">Your first Vegeta load testing command <a class="direct-link" href="#your-first-vegeta-load-testing-command">#</a></h2><p>There are multiple ways to use the Vegeta load testing tool, one of the simplest ways to get the output on the command line for faster analysis. To your first Vegeta load testing command execute the following:</p><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"GET http://httpbin.org/get"</span> <span class="token operator">|</span> vegeta attack <span class="token parameter variable">-duration</span><span class="token operator">=</span>5s <span class="token parameter variable">-rate</span><span class="token operator">=</span><span class="token number">5</span> <span class="token operator">|</span> vegeta report <span class="token parameter variable">--type</span><span class="token operator">=</span>text</code></pre><p>So what just happened here?</p><ol><li>We echoed the URL in this case <a href="http://httpbin.org/get">httpbin.org/get</a> and we passed it through Vegeta attack</li><li><code>vegeta attack</code> is the main command that ran the Vegeta load test with 5 requests per second for 5 seconds</li><li>The last but equally important command executed was <code>vegeta report</code> get show the report of the attack as text.</li></ol><p>You can see a sample output below:</p><img class="center" loading="lazy" src="/images/vegeta-load-testing/02vegeta-load-testing-text-output.jpg" title="Vegeta load testing text output" alt="Text output of 5 RPS for 5 seconds"><p>Vegeta load testing tool ran the attack of 25 requests spread over 5 seconds at 5 RPS. The minimum response time was 240 ms and the maximum was 510 ms with a 100% success rate. This means all the requests came back as a 200. Further, let's have a look at how we can see a more graphical output.</p><h2 id="vegeta-load-testing-with-graphical-output" tabindex="-1">Vegeta Load testing with graphical output <a class="direct-link" href="#vegeta-load-testing-with-graphical-output">#</a></h2><p>Another representation of Vegeta load testing results is an easy to understand graph. We can get a graph output with the below command:</p><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"GET http://httpbin.org/get"</span> <span class="token operator">|</span> vegeta attack <span class="token parameter variable">-duration</span><span class="token operator">=</span>30s <span class="token parameter variable">-rate</span><span class="token operator">=</span><span class="token number">10</span> <span class="token parameter variable">-output</span><span class="token operator">=</span>results-veg-httpbin-get.bin <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> results-veg-httpbin-get.bin <span class="token operator">|</span> vegeta plot <span class="token parameter variable">--title</span><span class="token operator">=</span><span class="token string">"HTTP Bin GET 10 rps for 30 seconds"</span> <span class="token operator">></span> http-bin-get-10rps-30seconds.html</code></pre><p>Let’s analyze how we used Vegeta for load testing <a href="http://httpbin.org">httpbin.org</a> here:</p><ol><li>We went to the user home with <code>cd</code> command</li><li>Then we set up the URL for <code>vegeta attack</code> by echoing <code>GET http://httpbin.org/get</code></li><li>This step is when we “attack” (a.k.a load test) httpbin servers at 10 requests per second for 30 seconds duration (so in total 300 requests in 30 seconds) we also specified that we want the output at <code>results-vegeta-httbin-get.bin</code> file</li><li>Now this result is like a binary that can’t be read easily so the next thing is we read the contents of this binary file with <code>cat</code> and passed it to <code>vegeta plot</code> with a fancy title and filename to get the HTML file</li><li>When we open the created HTML file we can see a graph like below in the HTML file:</li></ol><img class="center" loading="lazy" src="/images/vegeta-load-testing/03vegeta-graph.jpg" title="Vegeta load testing graph output" alt="Graph output of 10 RPS for 30 seconds with Vegeta"><p>So we sent 300 requests and all of them came back with a 200, the max response time was 552 milliseconds. One of the fastest response times was 234 milliseconds. This gives us a clear picture that HTTP bin can easily handle 10 requests per second for 30 seconds.</p><blockquote><p>I would advise you to not try it many times, <a href="http://HTTPBin.org">HTTPBin.org</a> might block your IP thinking you are DDOSing their system.</p></blockquote><p>Generally, you get the idea of how you use Vegeta for load testing your own services.</p><h2 id="my-service-uses-an-auth-token" tabindex="-1">My service uses an Auth token <a class="direct-link" href="#my-service-uses-an-auth-token">#</a></h2><p>Well, all the services won’t be open to all, most will use a <a href="https://jwt.io/">JWT</a> or some other way to authenticate and authorize users. To test such services you can use a command like below:</p><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"GET http://httpbin.org/get"</span> <span class="token operator">|</span> vegeta attack <span class="token parameter variable">-header</span> <span class="token string">"authorization: Bearer &lt;your-token-here>"</span> <span class="token parameter variable">-duration</span><span class="token operator">=</span>40s <span class="token parameter variable">-rate</span><span class="token operator">=</span><span class="token number">10</span> <span class="token parameter variable">-output</span><span class="token operator">=</span>results-veg-token.bin <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> results-veg-token.bin <span class="token operator">|</span> vegeta plot <span class="token parameter variable">--title</span><span class="token operator">=</span><span class="token string">"HTTP Get with token"</span> <span class="token operator">></span> http-get-token.html</code></pre><p>This example uses the same pattern as the above one, the main difference here is the use of <code>-header</code> param in the <code>vegeta attack</code> command used for Vegeta load testing.</p><blockquote><p>If you want to test an HTTP POST with a custom body please refer to the Vegeta <a href="https://github.com/tsenart/vegeta#targets-with-custom-bodies">docs</a>. It is best to test the GET APIs to know the load unless you have a write-heavy application/API.</p></blockquote><h2 id="how-do-i-load-test-multiple-urls%3F" tabindex="-1">How do I load test multiple URLs? <a class="direct-link" href="#how-do-i-load-test-multiple-urls%3F">#</a></h2><p>Testing multiple URLs with different HTTP methods is also relatively easy with Vegeta. Let’s have a look at this in the example below with a couple of GET requests:</p><ol><li>Create a <code>targets.txt</code> file (filename can be anything) with content like below that has a list of your URLs prefixed by the HTTP verb. In the one below I am load testing 3 GET URLs</li></ol><pre class="language-bash"><code class="language-bash">GET http://httpbin.org/get<br>GET http://httpbin.org/ip</code></pre><ol><li>Now similar to the first example with the text output run this command in the folder the targets.txt file is created: <code>vegeta attack -duration=5s -rate=5 --targets=targets.txt | vegeta report --type=text</code></li><li>We will see a text output like below:</li></ol><img class="center" loading="lazy" src="/images/vegeta-load-testing/04vegeta-multiple-urls.jpg" title="Vegeta load testing with multiple GET URLs output" alt="Text output of multiple GET URLs with Vegeta"><p>As we have seen doing load testing on multiple URLs with Vegeta is a breeze. Vegeta load testing can easily be done for other HTTP verbs like POST and PUT. Please refer to Vegeta <a href="https://github.com/tsenart/vegeta#targets-with-custom-bodies">docs</a>.</p><h2 id="conclusion" tabindex="-1">Conclusion <a class="direct-link" href="#conclusion">#</a></h2><p>This post was like scratching the surface with a primer on load testing with Vegeta. There are many advanced things that can be done with Vegeta load testing. Vegeta has been very useful on multiple occasions. I had once used Vegeta to load test Google Cloud Functions and Google <a href="/blog/2019/11/why-use-google-cloud-run-5-compelling-reasons/" title="Reasons to use Serverless containers with Google cloud run">Cloud Run</a> with the same code to see the response time difference between those two for a <a href="/blog/2019/11/from-0-to-working-serverless-url-for-a-containerized-app-with-google-cloud-run-slides-and-video/">talk</a>. The graph comparing both the services made the difference crystal clear.</p><p>In another instance, we tested a new public-facing <a href="/blog/2018/10/moving-from-a-and-b-to-~150-microservices/">microservice</a> that was replacing a part of an old monolith. It was very useful doing Vegeta load testing to know the response time difference for similar Request Per Second loads.</p><p>Load testing the application or API you want to go to production with is crucial.</p><blockquote><p>We once had to open up an API to a much higher load than it would normally get. Our load testing with Vegeta really helped us determine the resources and level of horizontal scaling the API would need to work without issue.</p></blockquote><p>All thanks to Vegeta it was much easier than using another tool or service.</p></div><div class="flex items-center justify-between gap-3 md:gap-4 flex-wrap md:flex-nowrap py-2 border-y border-lightbg mt-4"><div class="flex items-center justify-start md:gap-4 gap-2 flex-wrap w-2/3"><div class="flex justify-start items-center gap-3 md:gap-4"><img src="/images/favicons/favicon-32x32-pp.png" alt="Geshan Manandhar" class="w-10 h-10 rounded-full object-cover flex-shrink-0"> <span class="text-gray font-medium font-ui text-md md:text-xl uppercase tracking-wide text-start">Geshan Manandhar</span></div><time datetime="2020-09-06" data-updated="true"><time class="entry-date" datetime="2020-09-06"><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">06-Sep-2020 </span></time></time><span class="text-textColor font-ui font-medium text-md md:text-xl uppercase">8 MIN READ</span></div><button type="button" id="share-button-bottom" class="flex items-center justify-center w-8 h-8 md:w-9 md:h-9 rounded text-lightGray hover:border-gray-400 hover:bg-gray-50 transition-colors flex-shrink-0" aria-label="Share this post" onclick="toggleShareIconsBottom(); ga('send', 'event', 'share', 'clickShareOnPost');"><img src="/images/shareIcon.svg" alt="Share this post" class="w-6 h-6"></button></div><div id="share-icons-container-bottom" class="share-icons-bottom print:hidden hidden mx-auto" aria-label="Share this post"><div class="w-full flex items-center justify-center mx-auto gap-3"><span class="share-icons"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on LinkedIn" onclick="ga('send', 'event', 'share', 'clickShareOnLinkedIn');"><span id="linkedin-share" class="text-[#0077B5]"><img src="/images/social-icons/linkedin.svg" alt="LinkedIn" class="sharing-common"> </span></a><a href="http://twitter.com/share?text=Vegeta load testing a quick primer with GET examples - &url=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Twitter" onclick="ga('send', 'event', 'share', 'clickShareOnTwitter');"><span id="twitter-share" class="text-[#1DA1F2]"><img src="/images/social-icons/twitter.svg" alt="Twitter" class="sharing-common"> </span></a><a href="http://www.facebook.com/sharer.php?u=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Facebook" onclick="ga('send', 'event', 'share', 'clickShareOnFacebook');"><span id="facebook-share" class="text-[#1877F2]"><img src="/images/social-icons/facebook.svg" alt="Facebook" class="sharing-common"> </span></a><a href="https://t.me/share/url?url=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Telegram" onclick="ga('send', 'event', 'share', 'clickShareOnTelegram');"><span id="telegram-share" class="text-[#0088cc]"><img src="/images/social-icons/telegram.svg" alt="Telegram" class="sharing-common"> </span></a><a href="https://api.whatsapp.com/send?text=https://geshan.com.np/blog/2020/09/vegeta-load-testing-primer-with-examples/" target="_blank" title="Share 'Vegeta load testing a quick primer with GET examples' on Whatsapp" onclick="ga('send', 'event', 'share', 'clickShareOnWhatsapp');"><span id="whatsapp-share" class="text-[#25d366]"><img src="/images/social-icons/whatsapp.svg" alt="WhatsApp" class="sharing-common"></span></a></span></div></div></article><div class="mt-3"><a href="/blog/categories/software-engineering/" title="Software Engineering" class="background-lightbg mr-4 mb-2 inline-block mt-2 rounded border-2 bg-gray-100 font-semibold font-ui text-gray hover:text-gray-400 px-3 py-1 text-xl border-gray-300 cursor-pointer hover:border-gray-400">software engineering</a></div><section class="md:w-full mx-auto mt-4"><h3 class="comments font-heading">Comments</h3><div id="disqus_thread"></div><button id="disqus_trigger" class="font-ui text-blackText hover:border-darkAvocado border-blacktext hover:shadow-lg border-2 transition ease-in-out delay-100 px-3 py-2 pt-2 mt-2 rounded-md text-center block h-auto text-xl" onclick="load_disqus()">Post a Comment</button><div id="disqus_thread" aria-live="polite"></div></section></div></div><section class="md:w-full mx-auto mt-4 bg-lightAvocado p-4 rounded-lg pb-8"><div class="max-w-6xl mx-auto md:py-12 px-4"><h2 class="text-4xl text-darkAvocado font-heading font-regular flex-shrink-0 py-8 tracking-normal leading-[105%] md:leading-[105%]"><span class="text-lightGray italic">Related</span> <span class="text-blackText">Blogs</span></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2024/12/postgres-insert-on-conflict-update/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to Upsert Data in Postgres Using INSERT ON CONFLICT UPDATE</a> <time class="font-medium text-xl text-textColor uppercase font-ui">14-Dec-2024 &nbsp;&nbsp;&nbsp; 9 min read</time><p class="text-xl text-gray font-ui">Learn how to upsert data in Postgres using the INSERT ON CONFLICT UPDATE clause with practical examples. Combine insert and update operations into one UPSERT.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2024/10/unblock-software-engineers/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">Unblocking Software Engineers: Overcoming Non-technical and Technical Roadblocks</a> <time class="font-medium text-xl text-textColor uppercase font-ui">12-Oct-2024 &nbsp;&nbsp;&nbsp; 9 min read</time><p class="text-xl text-gray font-ui">Learn how to unlblock software engineers by overcoming non-technical and technical roadblocks. This guide will help you understand the common blockers and how to overcome them.</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2024/09/jest-mock-date/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to mock Date in Jest: the easiest way without installing any extra NPM package</a> <time class="font-medium text-xl text-textColor uppercase font-ui">26-Sep-2024 &nbsp;&nbsp;&nbsp; 9 min read</time><p class="text-xl text-gray font-ui">Learn to mock Date in Jest unit test in this simple to follow guide</p></div><div class="py-4 border-b border-avocado pb-4 flex flex-col gap-2 font-ui"><a href="/blog/2024/08/postgres-insert-multiple-rows/" class="font-semibold font-ui text-gray text-xl md:text-2xl tracking-[-0.01em] leading-[105%] md:leading-[105%]">How to insert multiple rows in Postgres using two useful methods</a> <time class="font-medium text-xl text-textColor uppercase font-ui">14-Aug-2024 &nbsp;&nbsp;&nbsp; 10 min read</time><p class="text-xl text-gray font-ui">Learn to insert multiple rows at once in Postgres with a single insert statement and the copy command in this useful tutorial.</p></div></div></div></section><section class="bg-avocado md:py-0 py-12 px-4"><div class="max-w-6xl mx-auto"><div class="md:hidden"><h2 class="mb-4 text-3xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-base text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-base text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity w-full text-center">Follow on LinkedIn &nbsp;→</a></div><div class="hidden md:grid lg:hidden grid-cols-3 gap-8 items-center"><div class="z-10 col-span-2"><h2 class="mb-4 text-2xl md:text-4xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-xl text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-xl text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity">Follow on LinkedIn &nbsp;→</a></div><div class="flex items-center justify-end col-span-1"><img class="w-32 h-auto" src="/images/theme/new_logo.svg" alt="Geshan"></div></div><div class="hidden lg:grid grid-cols-2 gap-8 lg:gap-12 items-center justify-between h-full"><div class="z-10"><h2 class="mb-4 text-2xl md:text-4xl font-heading font-regular text-textColor break-words tracking-[-0.01em] leading-[105%] md:leading-[105%]"><span class="text-textColor italic">Stay</span><span class="text-blackText"> Connected</span></h2><p class="text-xl text-blackText font-body font-regular mb-6">Follow me on LinkedIn for new posts, engineering insights, and tech takes — straight from the trenches.</p><p class="text-xl text-blackText font-body font-regular mb-6">A big thank you for supporting this ad. free, unobstructive (no overlays, no pop-ups) blog.</p></div><div class="flex items-center gap-12 w-full md:w-auto justify-end self-end"><img class="w-16 md:w-32 h-auto" src="/images/theme/new_logo.svg" alt="Geshan"> <a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer" class="inline-block bg-darkAvocado text-xl text-white px-6 py-3 rounded-lg font-body font-regular hover:opacity-90 transition-opacity w-full md:w-auto text-center md:text-left">Follow on LinkedIn &nbsp;→</a></div></div></div></section></div></div></div></main><footer role="contentinfo"><footer class="bg-avocado sm:px-4"><div class="max-w-6xl mx-auto flex flex-col md:flex-row sm:flex-col justify-between gap-2 items-center sm:items-center md:items-center py-10 font-nav text-lightGray text-base font-regular"><div class="pb-0 sm:pb-2 text-gray"><span class="pr-4">Copyright © 2026 Geshan Manandhar.</span></div><div class="pb-0 sm:pb-2"><ul class="flex"><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://www.linkedin.com/in/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> LinkedIn</a></li><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://www.twitter.com/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> Twitter</a></li><li class="hover:text-gray-300 text-lg pr-4 cursor-pointer text-gray"><a href="https://github.com/geshan" target="_blank" rel="noopener noreferrer nofollow" class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 1000 1000"><path fill="currentColor" d="M1000 267q0 112-78 188L747 631q-78 78-189 78q-97 0-171-63l115-115q26 17 56 17q44 0 75-31l175-176q31-29 31-74q0-44-30.5-74.5T734 162q-25 0-49.5 12T652 208H414L546 79Q626 1 734 1q110 0 188 78t78 188zm-387 89L498 471q-26-17-56-17q-44 0-75 31L192 661q-31 29-31 74q0 44 30.5 74.5T266 840q25 0 49.5-12t32.5-34h238L454 923q-80 78-188 78q-110 0-188-78T0 735q0-112 78-188l175-176q78-78 189-78q97 0 171 63z"/></svg> Github</a></li></ul></div></div></footer></footer><script src="/js/all.min.js" defer="defer"></script></body></html>