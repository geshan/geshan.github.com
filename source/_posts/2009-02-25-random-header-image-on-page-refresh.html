---
layout: post
title: "Random header image on page refresh (applicable to Drupal theme)"
date: 2009-02-25T19:06:00+04:00
comments: true
categories:
 - Tutorial
 - Technology
 - Programming
 - PHP
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">Some time back, we needed to get a random header image on every page refresh for a client. So I devised a simple way to select a header image from any 5 given images and show it on a page. How did I do it with PHP and CSS is explained below:<br /><h3>Ingredients: Template File, CSS and Images<a href="http://2.bp.blogspot.com/_L4bRnZ5TPr8/Saa2fsT73JI/AAAAAAAAA94/Gq8DRBN81LY/s1600-h/nagdaha_implementation.jpg" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" src="http://2.bp.blogspot.com/_L4bRnZ5TPr8/Saa2fsT73JI/AAAAAAAAA94/Gq8DRBN81LY/s400/nagdaha_implementation.jpg" id="BLOGGER_PHOTO_ID_5307129866489683090" style="cursor: pointer; display: block; height: 400px; margin: 0px auto 10px; text-align: center; width: 394px;" /></a></h3><br /><h4>The Template File</h4>First you need to find out the div where the random header image is going to be displayed, as its the header image then its obivious that we need to add a class to the header div. Problem is how is the single class going to have 5 different images as its background and that also changed in every page refresh.<br />For this just add a class called header-x, x is replaced with a random number between 1 and 5 by using PHP's rand() function. This will require your template to be a PHP  file, if you are using a CMS like Drupal then in Drupal edit the header div's code in page.tpl.php file as below:<br /><a href="http://3.bp.blogspot.com/_L4bRnZ5TPr8/SaaxxsMkbFI/AAAAAAAAA9o/lvCR2L9Mjkw/s1600-h/php_code_in_template.jpg" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" src="http://3.bp.blogspot.com/_L4bRnZ5TPr8/SaaxxsMkbFI/AAAAAAAAA9o/lvCR2L9Mjkw/s400/php_code_in_template.jpg" id="BLOGGER_PHOTO_ID_5307124678138293330" style="cursor: pointer; display: block; height: 108px; margin: 0px auto 10px; text-align: center; width: 400px;" /></a><br /><h4>The CSS Code</h4>After the template is fixed, now you have to apply a different background image to the classes 1-5. So header-1 will have header1.jpg,.... till header-5 will have header5.jpg as its background image.  The code can be seen below and downloaded <a href="http://www.geshanmanandhar.com/random_header.css" target="_blank">here</a>.<br /><a href="http://3.bp.blogspot.com/_L4bRnZ5TPr8/Saay9v_8RYI/AAAAAAAAA9w/Bp7ASplXh0o/s1600-h/css_code.jpg" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" src="http://3.bp.blogspot.com/_L4bRnZ5TPr8/Saay9v_8RYI/AAAAAAAAA9w/Bp7ASplXh0o/s400/css_code.jpg" id="BLOGGER_PHOTO_ID_5307125984829130114" style="cursor: pointer; display: block; height: 400px; margin: 0px auto 10px; text-align: center; width: 400px;" /></a><br /><br /><br /><h4>The Images</h4>Create 5 images of the same size and relevant to the website. You have your random header on page refresh working. Make sure the images are named correctly and placed relative to the CSS file for it to work.<br /><br />In case of 5 images when page refreshes the same image may appear but in case of 10 images the chances of same image repeating is slim. Back-end Caching can also affect the PHP's random function call.<br /><h4>Live Websites</h4>Live websites to check out similar implementations: <a href="http://www.gurkhaencounters.com/" target="_blank">www.gurkhaencounters.com</a> and <a href="http://nagdaha.org.np/" target="_blank">www.nagdaha.org.np</a>.<br /><blockquote>Hope you liked this small but effective tutorial, have fun with PHP and CSS.</blockquote></div></div>
